{"version":3,"sources":["component/Header/signOut.svg","component/sidebarCalendar/SidebarCalendar.module.css","component/note/note.module.css","component/sidebar/sidebar.module.css","App.module.css","component/errorIndicator/death-star.png","serviceWorker.ts","helpers/changeFormatDate.ts","services/firebase.js","store/noteReducer.ts","store/calendarReducer.js","store/actionTypes.js","store/activityReducer.js","store/editorReducer.ts","hooks/useShallowEqualSelector.tsx","component/calendar/Calendar.js","pages/Home.tsx","helpers/auth.js","pages/Sign/Login.tsx","pages/Sign/Signup.tsx","component/spinner/Spinner.js","store/authReducer.ts","component/Header/Header.tsx","helpers/customRoute.js","helpers/validateContent.js","component/modal/Modal.tsx","component/editor/Editor.tsx","component/messageItem/MessageItem.tsx","helpers/shouldShowDay.ts","component/messages/Messages.tsx","component/editorPanel/EditorPanel.tsx","component/note/Note.tsx","store/thunksDayReducer.ts","component/sidebarCalendar/SidebarCalendar.js","component/inputDay/InputDay.tsx","component/activityEvent/ActivityEvent.tsx","component/sidebar/Sidebar.tsx","pages/Day/Day.tsx","component/allMessages/AllMessages.tsx","pages/Notes/Notes.tsx","App.tsx","store/index.ts","component/errorIndicator/index.tsx","component/ErrorBoundry/index.js","index.tsx","pages/Sign/Sign.module.css","component/messages/messages.module.css","component/Header/Header.module.css","component/inputDay/inputDay.module.css","component/activityEvent/activityEvent.module.css","pages/Notes/notes.module.css","pages/Sign/google.svg","component/editorPanel/editorPanel.module.css","pages/Day/day.module.css","component/allMessages/allMessages.module.css","component/calendar/Calendar.module.css"],"names":["module","exports","Boolean","window","location","hostname","match","changeFormatDate","timestamp","Date","divide","d","getDate","getMonth","getFullYear","firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","auth","db","firestore","rtdb","database","setupPresence","user","isOfflineForRTDB","state","lastChanged","ServerValue","TIMESTAMP","isOnlineForRTDB","isOfflineForFirestore","FieldValue","serverTimestamp","isOnlineForFirestore","rtdbRef","ref","uid","userDoc","doc","on","snapshot","a","val","update","status","onDisconnect","set","initialState","allNotes","allNotesMonth","todayNotes","loadingNotes","lastSnapshot","runOutOfNotes","errorNotes","content","itemDate","key","dataNewDay","typePage","actions","error","type","payload","getNotesSelectedDay","dispatch","getState","selectedDate","calendar","userUid","notesArray","allMessages","collection","get","allMessagesToday","docs","push","data","id","sort","b","getAllNotes","path","notes","allNotesArray","first","collectionGroup","where","orderBy","limit","startAfter","last","length","undefined","forEach","newArray","concat","updateAllNotes","keyNote","itemData","isDate","messages","newObj","filter","item","map","addNewNote","selectType","editor","selectedType","todayDate","add","createdAt","date","now","updateNote","newContent","then","deleteNote","delete","todayData","loadingData","errorData","setTodayNumber","day","fetchToDayData","calendarReducer","action","allActivity","loadingActivity","errorActivity","todayActivity","activityError","fetchToDayActivity","onSnapshot","activity","activityReducer","activeEditor","activeEditorChangeOldContent","activeFillEditor","activeModal","changeSelectedType","selected","changeEditorContent","text","toggleEditorOldContent","isContent","toggleActiveFillEditor","toggleActiveModal","selector","useSelector","shallowEqual","Calendar","props","useState","currentMonth","setCurrentMonth","history","useHistory","useShallowEqualSelector","useDispatch","useEffect","arrDate","console","log","i","querySnapshot","activityAllLoaded","nextMonth","addMonths","prevMonth","subMonths","className","styles","header","row","col","colStart","icon","onClick","colCenter","format","locale","ru","colEnd","days","startDate","startOfWeek","weekStartsOn","dayWek","addDays","renderDays","monthStart","startOfMonth","monthEnd","endOfMonth","endDate","endOfWeek","rows","formattedDate","cloneDay","year","mount","today","activitiesToday","Object","keys","meditation","includes","style","color","yoga","notesToday","awarenesToday","cell","isSameMonth","isSameDay","disabled","isFuture","onDateClick","number","activities","bg","body","renderCells","Home","signup","email","password","createUserWithEmailAndPassword","signin","signInWithEmailAndPassword","signInWithGoogle","provider","GoogleAuthProvider","signInWithPopup","Login","setError","setEmail","setPassword","handleSubmit","event","preventDefault","message","googleSignIn","wrapper","form_box","autoComplete","onSubmit","header_block","title","to","placeholder","name","onChange","target","value","submit","signGoogle","src","google","alt","SignUp","useStyles","makeStyles","theme","root","display","marginLeft","spacing","Spinner","classes","CircularProgress","displayName","photoUrl","loading","isAuth","Header","changeType","headerContainer","headerLogo","headerDate","headerNavigationBlock","headerNavigation","headerNavigationItem","headerNavigationItemCenter","signOut","catch","headerLogout","PrivateRoute","Component","component","authenticated","rest","createBrowserHistory","render","pathname","from","PublicRoute","validateContent","replace","trim","split","modal","alignItems","justifyContent","paper","backgroundColor","palette","background","border","boxShadow","shadows","padding","SuccessEditModal","handleEdit","handleCreateNote","Modal","aria-labelledby","aria-describedby","open","onClose","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","Editor","handleSaveContent","saveContent","hide","setContents","lang","setOptions","showPathLabel","maxCharCount","width","height","minHeight","maxHeight","buttonList","callBackSave","MessageItem","note","previous","isAll","setTime","showDay","seconds","shouldShowDay","showDate","editorContent","useCallback","changeItemDate","setKey","removeContent","dateItem","message_item","message_item_box","class_note","class_awareness","message_time","getHours","getMinutes","message_text","ReactHtmlParser","message_remote","message_editor","message_remove","date_item","Messages","messages_area","messages_area_active_editor","EditorPanel","select","handelHideEditor","handelClearEditor","NoteButton","withStyles","getContrastText","purple","opacity","Button","AwarenessButton","CleanButton","HiddenButton","editor_panel","editor_panel_group","variant","Note","thunk","thought","errorThanks","fetchToDayThanks","arrThunk","thunks","setState","this","selectedDay","renderHeader","React","connect","withRouter","InputDay","setText","editMode","setEditMode","hadChange","setHadChange","blockInput","inputTitle","input","e","autoFocus","save","thunksRef","addThanks","showText","ActivityEvent","activeMeditation","activeYoga","handleActive","active","arrayRemove","removeActivity","isTodayActivity","activityRef","arrayUnion","addActivity","actionBox","actionItem","actionText","Sidebar","thunksValue","thoughtValue","pageDaySideBar","SidebarCalendar","Day","pageDay","pageDayContent","AllMessages","pathWithSlash","useLocation","substring","overflow","flexDirection","dataLength","next","inverse","hasMore","loader","scrollableTarget","index","Notes","button","App","onAuthStateChanged","photoURL","userFirebase","merge","Container","container","maxWidth","exact","rootReducer","combineReducers","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","ErrorIndicator","ErrorBoundry","hasError","children","app","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.cd23cad1.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/signOut.05fcdd59.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon\":\"SidebarCalendar_icon__3SLLn\",\"logo\":\"SidebarCalendar_logo__3MpKN\",\"row\":\"SidebarCalendar_row__1TCvF\",\"row-middle\":\"SidebarCalendar_row-middle__2f9RJ\",\"col\":\"SidebarCalendar_col__1He9M\",\"colStart\":\"SidebarCalendar_colStart__2xeHU\",\"colCenter\":\"SidebarCalendar_colCenter__yvaXA\",\"colEnd\":\"SidebarCalendar_colEnd__2zgfs\",\"calendar\":\"SidebarCalendar_calendar__18kct\",\"header\":\"SidebarCalendar_header__1mr_9\",\"days\":\"SidebarCalendar_days__2F7bh\",\"cell\":\"SidebarCalendar_cell__1UFQC\",\"selected\":\"SidebarCalendar_selected__Uhfm5\",\"body\":\"SidebarCalendar_body__flbNT\",\"number\":\"SidebarCalendar_number__gA90f\",\"disabled\":\"SidebarCalendar_disabled__1hcJN\",\"bg\":\"SidebarCalendar_bg__15yBc\",\"selectedDay\":\"SidebarCalendar_selectedDay__G-BhO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"editor\":\"note_editor__3Nu_m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageDaySideBar\":\"sidebar_pageDaySideBar__25beE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__fkyjV\",\"App\":\"App_App__iePe9\",\"App-logo\":\"App_App-logo__jXAwo\",\"App-logo-spin\":\"App_App-logo-spin__3vZlR\",\"App-header\":\"App_App-header__3d04R\",\"App-link\":\"App_App-link__3-vbu\"};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABcVBMVEUAAACUMUKVNESUNUaTNEWTNEWTNUWUNEWUNEWUNEWTNEWUNEWUNEWVNEWVNESUNUeWMkOUNUWVNEWUNEWTM0aVNUSSN0mVNUaUNEWUNEWUNEWVNESSNESWLUuUNESUNEWUNEafQECUNEaUNUWXNEaUMkaUNEWVNUaVM0SUNEWUM0WdO06UM0SVM0WSNkeVNUCUNEWUNEWVNEaUNESTMUWVMkSXOEiUNEWUNUSVNUSVK0CUNEWVNEWQN0OUNEaVNESUNEWAQED/AACUNEWZM02UNEaTNUaVM0SVNUaUNEaTNESSN0mUNEWUNUaZMzOUNEWVM0WUNEWTNkWUNEWVNEaXLkaUNEWUNEWXOUKUNEWVM0WUNkWSMkeUNEWUNUWUNEWUNEWVNUSUM0aTNUaTMkSUNEaUNESUNEWUNESPMECUNEWUNkOUNEWTNESUNUaTNEWZM0CUNEWVNEaUNUWVNUWSNUSUNEWUNEWTNESUNEUAAAAeSPByAAAAeXRSTlMAH155k63H4fjr07qiiWwrLn7O45pSDh2N3vuvMRGK97AIde4sTOJqeP2pDaTaLxjIwYRPGikg7FZlDNK2F8aoegQB2wpYhzxbko4c9j4Fnn3zNNS7FsuyG/FzUT3+jF3lwm5XR2Lya3AQ+ibqU6WmFNZx6TBESqdASVNu+gAAAAFiS0dEAIgFHUgAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiCRwPAQ3scZC+AAACoUlEQVRYw6WX+WPSMBTH6z11OhXva4hnFR0MdBsymGzshLmjKEMZG7svd3jmv7fJo23SJDQl35+S9/I+TV7SHIYh16nTZ86eO3+h6+Kly91XrvYY4XTt+g3EKnLz1m3V6Dt37yGR7j94qBL+6HEvkioaiHgSe4raKvqsbfzzFyhIXS/bxL8yA+NtvX4j635cJdzW23fC+L6E1yTZn0qnU/1JCaH3vSD+Q8T1Dww6xsEBMWGIj898dL3ZYc88nOWjc/mRT1x8Ier6R8dox9goByiKEjDuus0J1jNhqgAmPfcUWFLT0ykoTSkAZkqeu4wNs2To2VlcLisAPnteM4MNc1CZI+k1AwE9dpP5Bfu7MYQWiWURmnoVq0KKC/Me50vGBXzFc4MLVbvbxLIEbZZIBQ+n1mqao3ryzYn/jmv15WKxYSG0Qkyr0GSVVFbsUqS5hrVcFw2FXbBpbFqH8joupyXr2QXM1BkzTN7GJkKbGzChQYAt1pwswNIulyFJhWQQwPLZt9kp2pbFO0nc2fXZS3t0/F5JFu9M4yTn2T/w4g/2hcH0J34I/IdH4Ds6lHydBiREDczj+MlJ/NhECoDgfbg9oLCrCah0Ev+TAvyy5yMfUt2/KcAfhBqGjrQBYYfQ9APCJjHvB4SdRg4QdiHxAFjKrS0L1LDkgL8cAH6mGmOrhukB/M6tbRuEt3d1wI5KFmP4jKqwI3PPBUsBUCUta6zRORe2FABWw85tM8Ia11oA37auLsnB0gHAPdps+bupBPAOVz5RagDneOenShFAXzA6yQF7xVHXP249KyoHW0utQC/o8RAA4T2Rumh2BqCvusFDEFx1mct2sIZEfehLKMcLr/v6Dw5D+8lj6D+69J99hvbDE0vz6Uuk9/gGKT3//wOKqXrHYMfrIgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0wOS0yOFQxNTowMToxMyswMjowMIL/AEkAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTgtMDktMjhUMTU6MDE6MTMrMDI6MDDzorj1AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==\"","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","export const changeFormatDate = (timestamp = new Date(), divide = '') => {\n  const d = new Date(timestamp);\n  return `${d.getDate()}${divide}${\n    d.getMonth() + 1\n  }${divide}${d.getFullYear()}`;\n};\nexport const changeReverseFormatDate = (timestamp = new Date()) => {\n  const d = new Date(timestamp);\n  return `${d.getFullYear()}/${d.getMonth() + 1}/${d.getDate()}`;\n};\n\nexport const reverseFormatDate = (timestamp = new Date()) => {\n  const d = new Date(timestamp);\n  return `[${d.getFullYear()}][${d.getMonth() + 1}][${d.getDate()}]`;\n};\n\nexport const formatDate = (date = new Date()) => {\n  // return ('0' +(date.getDate())).slice(-2)+('0' +(date.getMonth()+1)).slice(-2)+('0'+date.getFullYear()).slice(-4);\n  return `${date.getDate()}${date.getMonth() + 1}${date.getFullYear()}`;\n};\n","import firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\nimport 'firebase/database';\r\nimport 'firebase/auth';\r\n\r\nconst config = {\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_APP_ID,\r\n};\r\n\r\nfirebase.initializeApp(config);\r\n\r\nconst auth = firebase.auth;\r\nconst db = firebase.firestore();\r\nconst rtdb = firebase.database();\r\n\r\nexport function setupPresence(user) {\r\n  const isOfflineForRTDB = {\r\n    state: 'offline',\r\n    lastChanged: firebase.database.ServerValue.TIMESTAMP,\r\n  };\r\n\r\n  const isOnlineForRTDB = {\r\n    state: 'online',\r\n    lastChanged: firebase.database.ServerValue.TIMESTAMP,\r\n  };\r\n\r\n  const isOfflineForFirestore = {\r\n    state: 'offline',\r\n    lastChanged: firebase.firestore.FieldValue.serverTimestamp(),\r\n  };\r\n\r\n  const isOnlineForFirestore = {\r\n    state: 'online',\r\n    lastChanged: firebase.firestore.FieldValue.serverTimestamp(),\r\n  };\r\n\r\n  const rtdbRef = rtdb.ref(`/status/${user.uid}`);\r\n  const userDoc = db.doc(`/users/${user.uid}`);\r\n\r\n  rtdb.ref('.info/connected').on('value', async (snapshot) => {\r\n    if (snapshot.val() === false) {\r\n      userDoc.update({\r\n        status: isOfflineForFirestore,\r\n      });\r\n      return;\r\n    }\r\n\r\n    await rtdbRef.onDisconnect().set(isOfflineForRTDB);\r\n    rtdbRef.set(isOnlineForRTDB);\r\n    userDoc.update({\r\n      status: isOnlineForFirestore,\r\n    });\r\n  });\r\n}\r\n\r\nexport { db, rtdb, firebase, auth };\r\n","import { BaseThunkType, InferActionsTypes } from './index'\r\nimport { db } from '../services/firebase'\r\nimport { changeFormatDate } from '../helpers/changeFormatDate'\r\n\r\nconst initialState = {\r\n  allNotes: [] as [],\r\n  allNotesMonth: [] as Array<{}>,\r\n  todayNotes: [] as any,\r\n  loadingNotes: true as boolean,\r\n  lastSnapshot: null as number | null,\r\n  runOutOfNotes: true as boolean,\r\n  errorNotes: null as null | string,\r\n  content: '' as string,\r\n  itemDate: '' as string,\r\n  key: null as number | null,\r\n  dataNewDay: null as null | number,\r\n  typePage: 'note' as string,\r\n}\r\n\r\nexport const notesReducer = (state = initialState, action: ActionsType) => {\r\n  switch (action.type) {\r\n    case 'AW/NOTE/FETCH_NOTES_REQUEST':\r\n    case 'AW/NOTE/FETCH_NOTES_FAILURE':\r\n    case 'AW/NOTE/FETCH_NOTES_DAY':\r\n    case 'AW/NOTE/FETCH_NOTES_ALL':\r\n    case 'AW/NOTE/SET_LAST_NOTES':\r\n    case 'AW/NOTE/FINISH_SCROLL_NOTES':\r\n    case 'AW/NOTE/FETCH_NOTES_MONTHS':\r\n    case 'AW/NOTE/SET_DATE_ITEM':\r\n    case 'AW/NOTE/SET_TYPE_PAGE':\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  noteRequested: () =>\r\n    ({\r\n      type: 'AW/NOTE/FETCH_NOTES_REQUEST',\r\n      payload: {\r\n        todayNotes: [],\r\n        loadingNotes: true,\r\n        errorNotes: null,\r\n      },\r\n    } as const),\r\n  noteError: (error: string) =>\r\n    ({\r\n      type: 'AW/NOTE/FETCH_NOTES_FAILURE',\r\n      payload: {\r\n        todayNotes: [],\r\n        loadingNotes: false,\r\n        errorNotes: error,\r\n      },\r\n    } as const),\r\n  getNotesDay: (todayNotes: []) =>\r\n    ({\r\n      type: 'AW/NOTE/FETCH_NOTES_DAY',\r\n      payload: {\r\n        loadingNotes: false,\r\n        errorNotes: null,\r\n        todayNotes,\r\n      },\r\n    } as const),\r\n  getAllNotesMonth: (allNotesMonth: []) =>\r\n    ({\r\n      type: 'AW/NOTE/FETCH_NOTES_MONTHS',\r\n      payload: {\r\n        loadingNotes: false,\r\n        errorNotes: null,\r\n        allNotesMonth,\r\n      },\r\n    } as const),\r\n  getAllNotes: (allNotes: []) =>\r\n    ({\r\n      type: 'AW/NOTE/FETCH_NOTES_ALL',\r\n      payload: {\r\n        loadingNotes: false,\r\n        errorNotes: null,\r\n        allNotes,\r\n      },\r\n    } as const),\r\n  setLastNotes: (lastSnapshot: number) =>\r\n    ({\r\n      type: 'AW/NOTE/SET_LAST_NOTES',\r\n      payload: {\r\n        loadingNotes: false,\r\n        errorNotes: null,\r\n        lastSnapshot,\r\n      },\r\n    } as const),\r\n  finishScroll: (runOutOfNotes: boolean) =>\r\n    ({\r\n      type: 'AW/NOTE/FINISH_SCROLL_NOTES',\r\n      payload: {\r\n        loadingNotes: false,\r\n        errorNotes: null,\r\n        runOutOfNotes,\r\n      },\r\n    } as const),\r\n  getDateNewDay: (dataNewDay: number) =>\r\n    ({\r\n      type: 'AW/NOTE/GET_DATE_NEW_DAY',\r\n      payload: {\r\n        dataNewDay,\r\n      },\r\n    } as const),\r\n  setDateItem: (itemDate: string) =>\r\n    ({\r\n      type: 'AW/NOTE/SET_DATE_ITEM',\r\n      payload: {\r\n        itemDate,\r\n      },\r\n    } as const),\r\n  setTypePage: (typePage: string) =>\r\n    ({\r\n      type: 'AW/NOTE/SET_TYPE_PAGE',\r\n      payload: {\r\n        typePage,\r\n      },\r\n    } as const),\r\n}\r\n\r\n\r\n\r\nexport const changeItemDate = (itemDate: string): ThunkType => async (dispatch) => {\r\n  dispatch(actions.setDateItem(itemDate))\r\n}\r\n\r\nexport const getNotesSelectedDay = (): ThunkType => async (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  const selectedDate = changeFormatDate(getState().calendar.selectedDate, '')\r\n  const userUid = getState().auth.uid\r\n  try {\r\n    const notesArray = [] as any\r\n    const allMessages = db.collection(`${userUid}/${selectedDate}/notes`)\r\n    const allMessagesToday = await allMessages.get()\r\n    for (const doc of allMessagesToday.docs) {\r\n      notesArray.push({...doc.data(), key: doc.id})\r\n    }\r\n\r\n    notesArray.sort((a: { id: number }, b: { id: number }) => a.id - b.id)\r\n    dispatch(actions.getNotesDay(notesArray))\r\n  } catch (error) {\r\n    dispatch(actions.noteError(error))\r\n  }\r\n}\r\n\r\nexport const getAllNotes = (path: string): ThunkType => async (dispatch, getState) => {\r\n  const userUid = getState().auth.uid\r\n  const lastSnapshot = getState().notes.lastSnapshot as number | null\r\n  const allNotes = getState().notes.allNotes as []\r\n  const allNotesArray = [] as any\r\n  let first = db.collectionGroup('notes')\r\n    .where('uid', '==', userUid)\r\n    .where('type', '==', path)\r\n    .orderBy('id', 'desc')\r\n    .limit(10)\r\n  if (lastSnapshot) {\r\n    first = first.startAfter(lastSnapshot)\r\n  }\r\n  const snapshot = await first.get()\r\n  const last = snapshot.docs[snapshot.docs.length - 1]\r\n\r\n  // const next = db.collectionGroup('notes')\r\n  //   .where('uid', '==', userUid)\r\n  //   .where('type', '==', 'note')\r\n  //   .orderBy('id', 'desc')\r\n  //   .startAfter(lastSnapshot)\r\n  //   .limit(10)\r\n  // const nextSnapshot = await next.get()\r\n  if (last && last.data().id) {\r\n    dispatch(actions.setLastNotes(last.data().id))\r\n  } else if (last === undefined) {\r\n    dispatch(actions.finishScroll(false))\r\n  }\r\n\r\n  snapshot.docs.forEach((doc) => {\r\n    allNotesArray.push({...doc.data(), key: doc.id})\r\n  })\r\n\r\n  if (last && last.data().id) {\r\n    const newArray: any = allNotes.concat(allNotesArray)\r\n    dispatch(actions.getAllNotes(newArray))\r\n  }\r\n}\r\n\r\nexport const changeTypePage = (typePage: string): ThunkType => async (dispatch) => {\r\n  dispatch(actions.setTypePage(typePage))\r\n  dispatch(actions.getAllNotes([]))\r\n  dispatch(actions.setLastNotes(0))\r\n  dispatch(getAllNotes(typePage))\r\n}\r\n\r\nexport const updateAllNotes = (keyNote: string | undefined = ''): ThunkType => async (\r\n  dispatch,\r\n  getState,\r\n) => {\r\n\r\n  const selectedDate = changeFormatDate(getState().calendar.selectedDate, '')\r\n  const itemData = getState().notes.itemDate as string | ''\r\n  const isDate = itemData ? itemData : selectedDate\r\n  const userUid = getState().auth.uid\r\n  const allNotes = getState().notes.allNotes as []\r\n\r\n  const messages = await db.doc(`${userUid}/${isDate}/notes/${keyNote}`).get()\r\n  const newObj: any = {...messages.data(), key: messages.id}\r\n\r\n  const newArray: any = allNotes.filter((item: { id: string; key: string }) => {\r\n    if (messages.data() === undefined && item.key === newObj.key) {\r\n      return false\r\n    }\r\n    return item\r\n  }).map((item: { id: string }) => {\r\n    if (item.id === newObj.id) {\r\n      return newObj\r\n    }\r\n    return item\r\n  })\r\n\r\n  if (keyNote) {\r\n    // const newArray: any = allNotes.concat(allNotesArray)\r\n    dispatch(actions.getAllNotes(newArray))\r\n  }\r\n}\r\n\r\nexport const addNewNote = (content: string): ThunkType => async (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  const userUid = getState().auth.uid\r\n  const selectType = getState().editor.selectedType\r\n  const typePage = getState().notes.typePage\r\n  const todayDate = changeFormatDate(new Date(), '')\r\n\r\n  try {\r\n    await db.collection(`${userUid}/${todayDate}/notes`).add({\r\n      createdAt: new Date(),\r\n      type: selectType,\r\n      date: todayDate,\r\n      content,\r\n      id: Date.now(),\r\n      uid: userUid,\r\n    })\r\n    dispatch(getNotesSelectedDay())\r\n    dispatch(actions.getAllNotes([]))\r\n    dispatch(actions.setLastNotes(0))\r\n    dispatch(getAllNotes(typePage))\r\n  } catch (error) {\r\n    dispatch(actions.noteError(error))\r\n  }\r\n}\r\n\r\nexport const updateNote = (\r\n  newContent: string,\r\n  keyNote: string,\r\n): ThunkType => async (dispatch, getState) => {\r\n  const userUid = getState().auth.uid\r\n  const itemData = getState().notes.itemDate as string\r\n\r\n  try {\r\n    await db\r\n      .doc(`${userUid}/${itemData}/notes/${keyNote}`)\r\n      .update({\r\n        content: newContent,\r\n      })\r\n      .then(() => {\r\n        dispatch(getNotesSelectedDay())\r\n        dispatch(updateAllNotes(keyNote))\r\n      })\r\n  } catch (error) {\r\n    dispatch(actions.noteError(error))\r\n  }\r\n}\r\n\r\nexport const deleteNote = (key: string, type: string, date: string): ThunkType => async (\r\n  dispatch,\r\n  getState\r\n) => {\r\n\r\n  const userUid = getState().auth.uid\r\n  try {\r\n    await db.doc(`${userUid}/${date}/notes/${key}`).delete()\r\n    dispatch(getNotesSelectedDay())\r\n    dispatch(updateAllNotes(key))\r\n  } catch (error) {\r\n    dispatch(actions.noteError(error))\r\n  }\r\n}\r\n\r\nexport const getAllNotesMonth = (): ThunkType => async (dispatch, getState) => {\r\n  const userUid = getState().auth.uid\r\n  const arrDate: string[] = []\r\n  try {\r\n    const allDay = await db.collection(userUid).get()\r\n    allDay.forEach((doc) => {\r\n      arrDate.push(doc.id)\r\n    })\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n\r\n  try {\r\n    const notesArray = [] as any\r\n    for (let i = 0; i < arrDate.length; i++) {\r\n      const allNotes = await db\r\n        .collection(`${userUid}/${arrDate[i]}/notes`)\r\n        .get()\r\n      for (const doc of allNotes.docs) {\r\n        notesArray.push({...doc.data(), key: doc.id})\r\n      }\r\n    }\r\n    dispatch(actions.getAllNotesMonth(notesArray))\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\n// export const getAllNotes = (): ThunkType => async (dispatch, getState) => {\r\n//   const userUid = getState().auth.uid\r\n//   const lastSnapshot = getState().notes.lastSnapshot\r\n//   const allNotes = getState().notes.allNotes\r\n//   const allNotesArray = [] as any\r\n//   const first = db.collectionGroup('notes')\r\n//     .where('uid', '==', userUid)\r\n//     .where('type', '==', 'note')\r\n//     .orderBy('id', 'desc')\r\n//     .limit(10)\r\n//   const snapshot = await first.get()\r\n//   const last = snapshot.docs[snapshot.docs.length - 1]\r\n//   dispatch(actions.setLastNotes(last.data().id));\r\n//   snapshot.docs.forEach((doc) => {\r\n//     allNotesArray.push({...doc.data(), key: doc.id})\r\n//   })\r\n//   console.log('test')\r\n//   if (last && last.data().id) {\r\n//     const newArray: any = allNotes.concat(allNotesArray)\r\n//     dispatch(actions.getAllNotes(newArray))\r\n//   }\r\n// }\r\n\r\n\r\ntype InitialStateType = typeof initialState;\r\ntype ActionsType = InferActionsTypes<typeof actions>;\r\ntype ThunkType = BaseThunkType<ActionsType>;\r\n","import {\n  FETCH_DATA_FAILURE,\n  FETCH_DATA_REQUEST,\n  FETCH_DATA_SUCCESS,\n  FETCH_TODAY_NUMBER,\n} from './actionTypes';\nimport { getNotesSelectedDay } from './noteReducer';\n\nconst initialState = {\n  selectedDate: null,\n  todayData: [],\n  loadingData: true,\n  errorData: null,\n};\n\nconst calendarReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case FETCH_DATA_REQUEST:\n      return {\n        ...state,\n        todayData: [],\n        loadingData: true,\n        errorData: null,\n      };\n    case FETCH_DATA_SUCCESS:\n      return {\n        ...state,\n        todayData: action.payload,\n        loadingData: false,\n        errorData: null,\n      };\n    case FETCH_TODAY_NUMBER:\n      return {\n        ...state,\n        selectedDate: action.payload,\n      };\n    case FETCH_DATA_FAILURE:\n      return {\n        ...state,\n        todayData: [],\n        loadingData: false,\n        errorData: action.payload,\n      };\n    default:\n      return state;\n  }\n};\nconst dataRequested = () => ({ type: FETCH_DATA_REQUEST });\n\nexport const setTodayNumber = (day) => {\n  return {\n    type: 'FETCH_TODAY_NUMBER',\n    payload: day,\n  };\n};\n\nexport const fetchToDayData = (day) => async (dispatch, getState) => {\n  dispatch(dataRequested());\n  dispatch(setTodayNumber(day));\n  dispatch(getNotesSelectedDay(day));\n};\n\nexport default calendarReducer;\n","export const  INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS'\r\nexport const  FETCH_SMILES_REQUEST = 'FETCH_SMILES_REQUEST'\r\nexport const  FETCH_SMILES_SUCCESS = 'FETCH_SMILES_SUCCESS'\r\nexport const  FETCH_SMILES_FAILURE = 'FETCH_SMILES_FAILURE'\r\nexport const  FETCH_SMILE_TODAY_SUCCESS = 'FETCH_SMILE_TODAY_SUCCESS'\r\n\r\nexport const  FETCH_DATA_REQUEST = 'FETCH_DATA_REQUEST'\r\nexport const  FETCH_DATA_SUCCESS = 'FETCH_DATA_SUCCESS'\r\nexport const  FETCH_DATA_FAILURE = 'FETCH_DATA_FAILURE'\r\nexport const  FETCH_TODAY_NUMBER = 'FETCH_TODAY_NUMBER'\r\n\r\n\r\nexport const  FETCH_NOTES_REQUEST = 'FETCH_NOTES_REQUEST'\r\nexport const  FETCH_NOTES_FAILURE = 'FETCH_NOTES_FAILURE'\r\nexport const  FETCH_NOTES_DAY = 'FETCH_NOTES_DAY'\r\nexport const  ADD_NOTE = 'ADD_NOTE'","import { db, firebase } from '../services/firebase';\n\nimport {\n  changeFormatDate,\n} from '../helpers/changeFormatDate';\n\n// const d = new Date();\n// const time = `${d.getDate()}${(d.getMonth()+1)}${d.getFullYear()}`;\n\nconst initialState = {\n  allActivity: [],\n  loadingActivity: true,\n  errorActivity: null,\n  todayActivity: [],\n};\n\nconst activityReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'FETCH_ACTIVITY_REQUEST':\n      return {\n        ...state,\n        todayActivity: [],\n        loadingActivity: true,\n        errorActivity: null,\n      };\n    case 'FETCH_ACTIVITY_TODAY_SUCCESS':\n      return {\n        ...state,\n        todayActivity: action.payload,\n        loadingActivity: false,\n        errorActivity: null,\n      };\n    case 'FETCH_ACTIVITY_SUCCESS':\n      return {\n        ...state,\n        allActivity: action.payload,\n        loadingActivity: false,\n        errorActivity: null,\n      };\n    case 'FETCH_ACTIVITY_FAILURE':\n      return {\n        ...state,\n        todayActivity: [],\n        loadingActivity: false,\n        errorActivity: action.payload,\n      };\n    default:\n      return state;\n  }\n};\n\nconst activityRequested = () => {\n  return {\n    type: 'FETCH_ACTIVITY_REQUEST',\n  };\n};\n\nconst activityTodayLoaded = (array) => {\n  return {\n    type: 'FETCH_ACTIVITY_TODAY_SUCCESS',\n    payload: array,\n  };\n};\n\nconst activityAllLoaded = (activity) => {\n  return {\n    type: 'FETCH_ACTIVITY_SUCCESS',\n    payload: activity,\n  };\n};\n\nconst activityError = (error) => {\n  return {\n    type: 'FETCH_ACTIVITY_FAILURE',\n    payload: error,\n  };\n};\n\nexport const fetchActivity = () => (dispatch, getState) => {\n  // dispatch(activityRequested());\n  const userUid = getState().auth.uid;\n\n  try {\n    db.collection(userUid).onSnapshot((querySnapshot) => {\n      const activity = [];\n      querySnapshot.forEach((doc) => {\n        activity.push({ [doc.id]: doc.data() });\n      });\n      dispatch(activityAllLoaded(activity));\n    });\n  } catch (error) {\n    dispatch(activityError(error));\n  }\n};\n\nexport const fetchToDayActivity = () => (dispatch, getState) => {\n  const selectedDate = changeFormatDate(getState().calendar.selectedDate, '');\n  const userUid = getState().auth.uid;\n  dispatch(activityRequested());\n\n  try {\n    db.collection(userUid)\n      .doc(selectedDate)\n      .onSnapshot((doc) => {\n        if (doc.data()) {\n          dispatch(activityTodayLoaded(doc.data().activity));\n        }\n      });\n  } catch (error) {\n    dispatch(activityError(error));\n  }\n};\n\nexport const addActivity = (name) => async (dispatch, getState) => {\n  const selectedDate = changeFormatDate(getState().calendar.selectedDate, '');\n  const isTodayActivity = getState().activity.todayActivity;\n  const today = changeFormatDate(new Date(), '');\n  const userUid = getState().auth.uid;\n\n  if (today !== selectedDate) {\n    return;\n  }\n\n  const activityRef = db.collection(userUid).doc(selectedDate);\n\n  try {\n    if (isTodayActivity.length) {\n      await activityRef.update({\n        activity: firebase.firestore.FieldValue.arrayUnion(name),\n      });\n    } else {\n      await activityRef.set({\n        activity: firebase.firestore.FieldValue.arrayUnion(name),\n      });\n    }\n  } catch (error) {\n    dispatch(activityError(error));\n  }\n};\n\nexport const removeActivity = (name) => async (dispatch, getState) => {\n  const selectedDate = changeFormatDate(getState().calendar.selectedDate, '');\n  const today = changeFormatDate(new Date(), '');\n  const userUid = getState().auth.uid;\n\n  if (today !== selectedDate) {\n    return;\n  }\n\n  try {\n    await db\n      .collection(userUid)\n      .doc(selectedDate)\n      .update({\n        activity: firebase.firestore.FieldValue.arrayRemove(name),\n      });\n  } catch (error) {\n    dispatch(activityError(error));\n  }\n};\n\nexport default activityReducer;\n","import { BaseThunkType, InferActionsTypes } from './index';\nimport { addNewNote, getAllNotes } from './noteReducer'\n\nconst initialState = {\n  activeEditor: false as boolean,\n  selectedType: 'note' as string,\n  content: '' as string,\n  activeEditorChangeOldContent: false as boolean,\n  activeFillEditor: true as boolean,\n  activeModal: false as boolean,\n  key: '' as string,\n};\n\nexport const editorReducer = (state = initialState, action: ActionsType) => {\n  switch (action.type) {\n    case 'AW/EDITOR/ACTIVE_EDITOR':\n    case 'AW/EDITOR/CHANGE_TYPE':\n    case 'AW/EDITOR/CHANGE_CONTENT':\n    case 'AW/EDITOR/CHANGE_CONTENT_OLD':\n    case 'AW/EDITOR/ACTIVE_MODAL':\n    case 'AW/EDITOR/SET_KEY_MESSAGE':\n      return {\n        ...state,\n        ...action.payload,\n      };\n    default:\n      return state;\n  }\n};\n\nconst actions = {\n  activeEditor: (activeEditor: boolean) =>\n    ({\n      type: 'AW/EDITOR/ACTIVE_EDITOR',\n      payload: {\n        activeEditor,\n      },\n    } as const),\n  changeType: (selectedType: string) =>\n    ({\n      type: 'AW/EDITOR/CHANGE_TYPE',\n      payload: {\n        selectedType,\n      },\n    } as const),\n  changeContent: (content: string) =>\n    ({\n      type: 'AW/EDITOR/CHANGE_CONTENT',\n      payload: {\n        content,\n      },\n    } as const),\n  changeContentOld: (activeEditorChangeOldContent: boolean) =>\n    ({\n      type: 'AW/EDITOR/CHANGE_CONTENT_OLD',\n      payload: {\n        activeEditorChangeOldContent,\n      },\n    } as const),\n  toggleEditor: (activeFillEditor: boolean) =>\n    ({\n      type: 'AW/EDITOR/ACTIVE_EDITOR',\n      payload: {\n        activeFillEditor,\n      },\n    } as const),\n  toggleModal: (activeModal: boolean) =>\n    ({\n      type: 'AW/EDITOR/ACTIVE_MODAL',\n      payload: {\n        activeModal,\n      },\n    } as const),\n  setKey: (key: string) =>\n    ({\n      type: 'AW/EDITOR/SET_KEY_MESSAGE',\n      payload: {\n        key,\n      },\n    } as const),\n};\n\nexport const activeStateEditor = (state: boolean): ThunkType => async (\n  dispatch,\n) => {\n  dispatch(actions.activeEditor(state));\n};\n\nexport const changeSelectedType = (selected: string): ThunkType => async (\n  dispatch,\n) => {\n  dispatch(actions.changeType(selected));\n};\n\nexport const changeEditorContent = (text: string): ThunkType => async (\n  dispatch,\n) => {\n  dispatch(actions.changeContent(text));\n};\n\nexport const toggleEditorOldContent = (isContent = true): ThunkType => async (\n  dispatch,\n) => {\n  dispatch(actions.changeContentOld(isContent));\n  dispatch(actions.activeEditor(false));\n};\n\nexport const toggleActiveFillEditor = (\n  activeFillEditor: boolean,\n): ThunkType => async (dispatch) => {\n  dispatch(actions.toggleEditor(activeFillEditor));\n};\n\nexport const toggleActiveModal = (activeModal: boolean): ThunkType => async (\n  dispatch,\n) => {\n  dispatch(actions.toggleModal(activeModal));\n};\n\nexport const setKey = (key: string): ThunkType => async (dispatch) => {\n  dispatch(actions.setKey(key));\n  dispatch(actions.changeContentOld(true));\n};\n\nexport const saveContent = (text: string): ThunkType => async (\n  dispatch,\n  getState,\n) => {\n  const typePage = getState().notes.typePage\n  if (getState().editor.activeEditorChangeOldContent) {\n    dispatch(actions.toggleModal(true));\n  } else {\n    dispatch(addNewNote(text));\n    dispatch(actions.toggleModal(false));\n    dispatch(actions.changeContentOld(false));\n    dispatch(getAllNotes(typePage))\n  }\n};\n\ntype InitialStateType = typeof initialState;\ntype ActionsType = InferActionsTypes<typeof actions>;\ntype ThunkType = BaseThunkType<ActionsType>;\n","import { shallowEqual, useSelector } from 'react-redux';\r\nimport {AppStateType} from \"../store\";\r\n\r\n// export const useShallowEqualSelector = (selector) => {\r\n//   return useSelector(selector, shallowEqual);\r\n// }\r\n\r\nexport default <TReturn,>(selector: (state: AppStateType) => TReturn) =>\r\n  useSelector<AppStateType, TReturn>(selector, shallowEqual);\r\n","import React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport {\n  format,\n  startOfWeek,\n  endOfMonth,\n  addDays,\n  startOfMonth,\n  endOfWeek,\n  isSameMonth,\n  isSameDay,\n  addMonths,\n  subMonths,\n  isFuture,\n} from 'date-fns';\nimport { ru } from 'date-fns/locale';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport styles from './Calendar.module.css';\n// import {Spinner} from '../spinner/Spinner'\n// import ErrorBoundry from '../ErrorBoundry'\n\nimport { changeFormatDate } from '../../helpers/changeFormatDate';\nimport { fetchToDayData } from '../../store/calendarReducer';\nimport { fetchActivity } from '../../store/activityReducer';\nimport { getAllNotesMonth } from '../../store/noteReducer';\nimport {\n  toggleEditorOldContent,\n  changeEditorContent,\n  toggleActiveFillEditor,\n} from '../../store/editorReducer';\nimport SpaIcon from '@material-ui/icons/Spa';\nimport Brightness7Icon from '@material-ui/icons/Brightness7';\nimport useShallowEqualSelector from '../../hooks/useShallowEqualSelector';\n\nconst Calendar = (props) => {\n  const [currentMonth, setCurrentMonth] = useState(new Date());\n  // const [activity, setActivity] = useState([]);\n\n  const history = useHistory();\n  const selectedDate = new Date();\n\n  const allActivity = useSelector((state) => state.activity.allActivity);\n  const allNotesMonth = useShallowEqualSelector((state) => state.notes.allNotesMonth);\n\n  const dispatch = useDispatch();\n\n  // const updateActivity = () => {\n  //   if (activity !== allActivity) {\n  //     dispatch(fetchActivity());\n  //     setActivity(allActivity);\n  //   }\n  // };\n\n  useEffect(() => {\n    dispatch(fetchToDayData());\n    dispatch(getAllNotesMonth());\n    return dispatch(fetchActivity());\n  }, [dispatch]);\n\n  const renderHeader = () => {\n    const dateFormat = 'LLLL yyyy';\n    return (\n      <div className={`${styles.header} ${styles.row}`}>\n        <div className={`${styles.col} ${styles.colStart}`}>\n          <div className={`${styles.icon}`} onClick={prevMonth}>\n            chevron_left\n          </div>\n        </div>\n        <div className={`${styles.col}  ${styles.colCenter}`}>\n          <span>{format(currentMonth, dateFormat, { locale: ru })}</span>\n        </div>\n        <div className={`${styles.col} ${styles.colEnd}`} onClick={nextMonth}>\n          <div className={`${styles.icon}`}>chevron_right</div>\n        </div>\n      </div>\n    );\n  };\n\n  const renderDays = () => {\n    const dateFormat = 'EEEE';\n    const days = [];\n    let startDate = startOfWeek(currentMonth, { weekStartsOn: 1 });\n    for (let i = 0; i < 7; i++) {\n      let dayWek = format(addDays(startDate, i), dateFormat, { locale: ru });\n      days.push(\n        <div className={`${styles.col} ${styles.colCenter} `} key={i}>\n          {dayWek}\n        </div>\n      );\n    }\n    return <div className={`${styles.days} ${styles.row}`}>{days}</div>;\n  };\n\n  const renderCells = () => {\n    const monthStart = startOfMonth(currentMonth);\n    const monthEnd = endOfMonth(monthStart);\n    const startDate = startOfWeek(monthStart, { weekStartsOn: 1 });\n    const endDate = endOfWeek(monthEnd);\n\n    const dateFormat = 'd';\n    const rows = [];\n\n    let days = [];\n    let day = startDate;\n    let formattedDate = '';\n\n    while (day <= endDate) {\n      for (let i = 0; i < 7; i++) {\n        formattedDate = format(day, dateFormat);\n        const cloneDay = day;\n        // console.log(allActivity)\n        //         const smileUse = allActivity.map((item) => {\n        //\n        //           let year = item[cloneDay.getFullYear()]\n        //           let mount = year[cloneDay.getMonth() + 1]\n        //           if (year && mount && mount[cloneDay.getDate()]) {\n        //             return Object.values(mount[cloneDay.getDate()]).map((i) => {\n        //               return (\n        //                 <span\n        //                   key={i.key}\n        //                   className={`${styles.smile}`}\n        //                 >\n        // {i}\n        //                   {/*{smiles[i.id-1].img}*/}\n        //                 </span>\n        //               )\n        //             })\n        //           }\n        //         })\n\n        const onDateClick = (day) => {\n          history.push(`/day/${changeFormatDate(day)}`);\n          dispatch(fetchToDayData(day));\n          dispatch(toggleEditorOldContent(false));\n          dispatch(changeEditorContent(''));\n          dispatch(toggleActiveFillEditor(true));\n\n          // this.setState({\n          //   selectedDate: day\n          // });\n        };\n        const year = cloneDay.getFullYear();\n        const mount = cloneDay.getMonth() + 1;\n        const today = cloneDay.getDate();\n\n        const activitiesToday = allActivity.map((item) => {\n          return Object.keys(item).map(i => {\n            if (i === `${today}${mount}${year}`) {\n              const meditation = item[i].activity.includes('Meditation') ? (\n                <Brightness7Icon\n                  className={styles.activity}\n                  style={{ color: '#F6A4D5' }}\n                />\n              ) : null;\n\n              const yoga = item[i].activity.includes('Yoga') ? (\n                <SpaIcon style={{ color: '#F6A4D5' }} />\n              ) : null;\n\n              return (\n                <div key={i} className={`${styles.allActivity}`}>\n                  <span className={styles.activity}>{meditation}</span>\n                  <span className={styles.activity}>{yoga}</span>\n                </div>\n              );\n            }\n          });\n        });\n\n        const notesToday = allNotesMonth.filter((item) => {\n          if (\n            item.date === `${today}${mount}${year}` && item.type === 'note'\n          ) {\n            return (\n              item\n            );\n          }\n        });\n        const awarenesToday = allNotesMonth.filter((item) => {\n          if (\n            item.date === `${today}${mount}${year}` &&\n            typeof item.content === 'string' && item.type === 'awareness'\n          ) {\n            return (\n              item\n            );\n          }\n        });\n\n        days.push(\n          <div\n            className={`${styles.col} ${styles.cell}\n              ${\n                !isSameMonth(day, monthStart)\n                  ? `disabled ${styles.disabled}`\n                  : isSameDay(day, selectedDate)\n                  ? `selected ${styles.selected}`\n                  : ''\n              }\n              ${isFuture(day) ? `disabled ${styles.disabled}` : ''}\n            `}\n            key={day}\n            onClick={() => onDateClick(cloneDay)}\n          >\n            <span className={`${styles.number}`}>{formattedDate}</span>\n            <span className={`${styles.activities}`}>{activitiesToday}</span>\n            {notesToday.length !== 0 ? <span className={`${styles.notesToday}`}>N: {notesToday.length}</span>: null}\n            {awarenesToday.length !== 0 ?<span className={`${styles.awarenesToday}`}>A: {awarenesToday.length}</span>: null}\n            <span className={`${styles.bg}`}>{formattedDate}</span>\n          </div>\n        );\n        day = addDays(day, 1);\n      }\n      rows.push(\n        <div className={`${styles.row}`} key={day}>\n          {days}\n        </div>\n      );\n      days = [];\n    }\n    return <div className={`${styles.body}`}>{rows}</div>;\n  };\n\n  const nextMonth = () => {\n    setCurrentMonth(addMonths(currentMonth, 1));\n  };\n\n  const prevMonth = () => {\n    setCurrentMonth(subMonths(currentMonth, 1));\n  };\n\n  // if(this.props.loadingSmiles) {\n  //   return <Spinner/>\n  // }\n\n  // if(this.props.errorSmiles) {\n  //   return <ErrorBoundry />\n  // }\n\n  return (\n    <div className={`${styles.calendar}`}>\n      {renderHeader()}\n      {renderDays()}\n      {renderCells()}\n    </div>\n  );\n};\n\nexport default Calendar;\n","import React, { FC } from 'react';\r\nimport Calendar from '../component/calendar/Calendar';\r\n// import Calendar from '../components/calendar/Calendar';\r\n\r\nexport const Home: FC = (props) => {\r\n  return (\r\n    <div>\r\n      <section>\r\n        <Calendar {...props} />\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\n","import { firebase, db, auth, setupPresence } from '../services/firebase';\nimport { useState, useEffect } from 'react';\n\nexport function signup(email, password) {\n  return auth().createUserWithEmailAndPassword(email, password);\n}\n\nexport function signin(email, password) {\n  return auth().signInWithEmailAndPassword(email, password);\n}\n\nexport function signInWithGoogle() {\n  const provider = new auth.GoogleAuthProvider();\n  return auth().signInWithPopup(provider);\n}\n\nexport function useAuth() {\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    return firebase.auth().onAuthStateChanged((firebaseUser) => {\n      if (firebaseUser) {\n        const user = {\n          displayName: firebaseUser.displayName,\n          photoUrl: firebaseUser.photoURL,\n          uid: firebaseUser.uid,\n        };\n        setUser(user);\n\n        db.collection('users').doc(user.uid).set(user, { merge: true });\n\n        setupPresence(user);\n      } else {\n        setUser(null);\n      }\n    });\n  }, []);\n  return user;\n}\n\n// export function signInWithGitHub() {\n//   const provider = new auth.GithubAuthProvider();\n//   return auth().signInWithPopup(provider);\n// }\n\n// export function logout() {\n//   return auth().signOut();\n// }\n","import React, { ChangeEvent, FC, FormEvent, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { signin, signInWithGoogle } from '../../helpers/auth';\r\nimport styles from './Sign.module.css';\r\nimport google from './google.svg';\r\n\r\nexport const Login: FC = () => {\r\n  const [error, setError] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const handleChangeEmail = (event: ChangeEvent<HTMLInputElement>) => {\r\n    setEmail(event.target.value);\r\n  };\r\n\r\n  const handleChangePassword = (event: ChangeEvent<HTMLInputElement>) => {\r\n    setPassword(event.target.value);\r\n  };\r\n\r\n  const handleSubmit = async (event: FormEvent) => {\r\n    event.preventDefault();\r\n    setError('');\r\n    try {\r\n      await signin(email, password);\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n  };\r\n\r\n  const googleSignIn = async () => {\r\n    try {\r\n      await signInWithGoogle();\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`container ${styles.wrapper}`}>\r\n      <form\r\n        className={`mt-5 py-5 px-5 ${styles.form_box}`}\r\n        autoComplete=\"off\"\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <h1 className={styles.header_block}>\r\n          Войти в\r\n          <Link className={`${styles.title} ml-2`} to=\"/\">\r\n            Awiary\r\n          </Link>\r\n        </h1>\r\n        <div className=\"form-group\">\r\n          <input\r\n            className=\"form-control\"\r\n            placeholder=\"Email\"\r\n            name=\"email\"\r\n            type=\"email\"\r\n            onChange={handleChangeEmail}\r\n            value={email}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <input\r\n            className=\"form-control\"\r\n            placeholder=\"Password\"\r\n            name=\"password\"\r\n            onChange={handleChangePassword}\r\n            value={password}\r\n            type=\"password\"\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          {error ? <p className=\"text-danger\">{error}</p> : null}\r\n          <button className={`${styles.submit} btn btn-primary px-5`} type=\"submit\">\r\n            Войти\r\n          </button>\r\n        </div>\r\n        <div className={styles.signGoogle}>\r\n          <p>Вы также можете авторизироваться через Google аккаунт</p>\r\n          <button\r\n            className=\"btn btn-danger mr-2\"\r\n            type=\"button\"\r\n            onClick={googleSignIn}\r\n          >\r\n            <img src={google} alt=\"Google\" />\r\n          </button>\r\n        </div>\r\n        <p>\r\n          <Link className={styles.signup} to=\"/signup\">\r\n            Зарегистрироваться\r\n          </Link>\r\n        </p>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n","import React, { ChangeEvent, FC, FormEvent, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { signup, signInWithGoogle } from '../../helpers/auth';\r\nimport styles from './Sign.module.css';\r\nimport google from './google.svg';\r\n\r\nexport const SignUp: FC = () => {\r\n  const [error, setError] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const handleChangeEmail = (event: ChangeEvent<HTMLInputElement>) => {\r\n    setEmail(event.target.value);\r\n  };\r\n\r\n  const handleChangePassword = (event: ChangeEvent<HTMLInputElement>) => {\r\n    setPassword(event.target.value);\r\n  };\r\n\r\n  const handleSubmit = async (event: FormEvent) => {\r\n    event.preventDefault();\r\n    setError('');\r\n    try {\r\n      await signup(email, password);\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n  };\r\n\r\n  const googleSignIn = async () => {\r\n    try {\r\n      await signInWithGoogle();\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n      <div className={`container ${styles.wrapper}`}>\r\n        <form\r\n            className={`mt-5 py-5 px-5 ${styles.form_box}`}\r\n            autoComplete=\"off\"\r\n            onSubmit={handleSubmit}\r\n        >\r\n          <h1 className={styles.header_block}>\r\n            Зарегистрироваться в\r\n            <Link className={`${styles.title} ml-2`} to=\"/\">\r\n              Awiary\r\n            </Link>\r\n          </h1>\r\n          <div className=\"form-group\">\r\n            <input\r\n                className=\"form-control\"\r\n                placeholder=\"Email\"\r\n                name=\"email\"\r\n                type=\"email\"\r\n                onChange={handleChangeEmail}\r\n                value={email}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input\r\n                className=\"form-control\"\r\n                placeholder=\"Password\"\r\n                name=\"password\"\r\n                onChange={handleChangePassword}\r\n                value={password}\r\n                type=\"password\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            {error ? <p className=\"text-danger\">{error}</p> : null}\r\n            <button className={`${styles.submit} btn btn-primary px-5`} type=\"submit\">\r\n              Зарегистрироваться\r\n            </button>\r\n          </div>\r\n          <div className={styles.signGoogle}>\r\n            <p>Вы также можете Зарегистрироваться через Google аккаунт</p>\r\n            <button\r\n                className=\"btn btn-danger mr-2\"\r\n                type=\"button\"\r\n                onClick={googleSignIn}\r\n            >\r\n              <img src={google} alt=\"Google\" />\r\n            </button>\r\n          </div>\r\n          <p>\r\n            <Link className={styles.signup} to=\"/login\">\r\n              Войти\r\n            </Link>\r\n          </p>\r\n        </form>\r\n      </div>\r\n  );\r\n};\r\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    '& > * + *': {\n      marginLeft: theme.spacing(2),\n    },\n  },\n}));\n\nexport const Spinner = () => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <CircularProgress />\n    </div>\n  );\n};\n","import { auth, db, setupPresence } from '../services/firebase';\r\n\r\nimport { BaseThunkType, InferActionsTypes } from './index';\r\n\r\nconst initialState = {\r\n  uid: '' as string,\r\n  email: null as string | null,\r\n  displayName: null as string | null,\r\n  photoUrl: null as string | null,\r\n  loading: true as boolean,\r\n  isAuth: false as boolean,\r\n};\r\n\r\nexport const authReducer = (state = initialState, action: ActionsType) => {\r\n  switch (action.type) {\r\n    case 'AW/AUTH/SET_USER_DATA':\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst actions = {\r\n  setAuthUserData: (\r\n    uid: string,\r\n    email: string | null,\r\n    displayName: string | null,\r\n    photoUrl: string | null,\r\n    loading: boolean,\r\n    isAuth: boolean\r\n  ) =>\r\n    ({\r\n      type: 'AW/AUTH/SET_USER_DATA',\r\n      payload: {\r\n        uid,\r\n        email,\r\n        displayName,\r\n        photoUrl,\r\n        loading,\r\n        isAuth,\r\n      },\r\n    } as const),\r\n};\r\n\r\n// export const getAuthUserData = (): ThunkType => async (dispatch) => {\r\n//   auth().onAuthStateChanged((user) => {\r\n//     if (user) {\r\n//       dispatch(actions.setAuthUserData(user.uid, user.email, false, true));\r\n//     } else {\r\n//       dispatch(actions.setAuthUserData(null, null, false, false));\r\n//     }\r\n//   });\r\n// };\r\n\r\nexport const getAuthUserData = (): ThunkType => async (dispatch) => {\r\n  auth().onAuthStateChanged((user) => {\r\n    if (user) {\r\n      dispatch(\r\n        actions.setAuthUserData(\r\n          user.uid,\r\n          user.email,\r\n          user.displayName,\r\n          user.photoURL,\r\n          false,\r\n          true,\r\n        )\r\n      );\r\n\r\n      const userFirebase = {\r\n        displayName: user.displayName,\r\n        photoUrl: user.photoURL,\r\n        uid: user.uid,\r\n      };\r\n\r\n      db.collection('users').doc(user.uid).set(userFirebase, { merge: true });\r\n\r\n      setupPresence(user);\r\n    } else {\r\n      dispatch(actions.setAuthUserData('', null, null, null, false, false));\r\n    }\r\n  });\r\n}\r\n\r\nexport const logout = (): ThunkType => async (dispatch) => {\r\n  auth()\r\n    .signOut()\r\n    .then(() => {\r\n      dispatch(actions.setAuthUserData('', null, null, null, false, false));\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    });\r\n};\r\n\r\ntype InitialStateType = typeof initialState;\r\ntype ActionsType = InferActionsTypes<typeof actions>;\r\ntype ThunkType = BaseThunkType<ActionsType>;\r\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport icon from './signOut.svg';\nimport styles from './Header.module.css';\n\nimport { logout } from '../../store/authReducer';\nimport { AppStateType } from '../../store';\nimport { changeFormatDate } from '../../helpers/changeFormatDate';\nimport { changeTypePage } from '../../store/noteReducer'\n\nconst Header = () => {\n  const dispatch = useDispatch();\n  const selectedDate = useSelector(\n    (state: AppStateType) => state.calendar.selectedDate\n  );\n\n  const data = selectedDate ? changeFormatDate(selectedDate, '/') : changeFormatDate(new Date(), '/')\n\n  const changeType = (type: string) => {\n    dispatch(changeTypePage(type))\n  }\n\n  return (\n    <header>\n      <div className={styles.headerContainer}>\n        <div className={styles.headerLogo}>\n          <Link to=\"/\">Awiary</Link>\n        </div>\n        <div className={styles.headerDate}>\n          {data}\n        </div>\n        <div className={styles.headerNavigationBlock}>\n          <nav className={styles.headerNavigation}>\n            <Link className={styles.headerNavigationItem} to=\"/\">\n              Календарь\n            </Link>\n            <Link\n              className={`${styles.headerNavigationItem} ${styles.headerNavigationItemCenter}`}\n              to=\"/note\"\n              onClick={() => changeType('note')}\n            >\n              Заметки\n            </Link>\n            <Link className={styles.headerNavigationItem} to=\"/awareness\" onClick={() => changeType('awareness')}>\n              Осознания\n            </Link>\n          </nav>\n          <Link\n            onClick={() => dispatch(logout())}\n            className={styles.headerLogout}\n            to=\"/\"\n          >\n            <img src={icon} alt=\"error icon\" />\n          </Link>\n        </div>\n      </div>\n    </header>\n  );\n};\n\nexport default Header;\n","import Header from '../component/Header/Header';\nimport React from 'react';\nimport { Redirect, Route } from 'react-router-dom';\nimport { createBrowserHistory } from 'history';\n\nexport function PrivateRoute({ component: Component, authenticated, ...rest }) {\n  const history = createBrowserHistory();\n  return (\n    <Route\n      history={history}\n      {...rest}\n      render={(props) =>\n        authenticated === true ? (\n          <>\n            <Header />\n            <Component {...props} />\n          </>\n        ) : (\n          <Redirect\n            to={{ pathname: '/login', state: { from: props.location } }}\n          />\n        )\n      }\n    />\n  );\n}\n\nexport function PublicRoute({ component: Component, authenticated, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={(props) =>\n        authenticated === false ? <Component {...props} /> : <Redirect to=\"/\" />\n      }\n    />\n  );\n}\n","export const validateContent = (content) => {\r\n  let text = content\r\n  if (text && text.length > 0) {\r\n    text = text.replace(/<(?:.|\\n)*?>/gm, '').replace('&nbsp;', '').trim()\r\n    text = text.length ? text.split(/\\s+/).length : 0\r\n  } else {\r\n    text = 0\r\n  }\r\n  // if (text === 0) {\r\n  //   dispatch(changeEditorContent(''))\r\n  // }\r\n}\r\n","import React, { FC } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Modal from '@material-ui/core/Modal'\nimport Backdrop from '@material-ui/core/Backdrop'\nimport Fade from '@material-ui/core/Fade'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport {\n  toggleActiveFillEditor,\n  toggleActiveModal,\n  toggleEditorOldContent,\n} from '../../store/editorReducer'\nimport { addNewNote, updateNote } from '../../store/noteReducer'\nimport { AppStateType } from '../../store'\nimport { validateContent } from '../../helpers/validateContent'\n\nconst useStyles = makeStyles((theme) => ({\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n}))\n\nexport const SuccessEditModal: FC = () => {\n  const dispatch = useDispatch()\n  const activeModal = useSelector((state: AppStateType) => state.editor.activeModal)\n  const content = useSelector((state: AppStateType) => state.editor.content)\n  const key = useSelector((state: AppStateType) => state.editor.key)\n\n  const classes = useStyles()\n\n\n\n  const handleEdit = async () => {\n    console.log('handleEdit')\n    validateContent(content)\n    console.log(validateContent(content))\n    dispatch(updateNote(content, key))\n\n    dispatch(toggleActiveModal(false))\n    dispatch(toggleActiveFillEditor(false))\n    dispatch(toggleEditorOldContent(false))\n  }\n\n  const handleCreateNote = async () => {\n    console.log('handleCreateNote')\n    validateContent(content)\n    if (content !== '') {\n      dispatch(addNewNote(content))\n      dispatch(toggleActiveModal(false))\n      dispatch(toggleEditorOldContent(false))\n    }\n  }\n\n  const handleClose = () => {\n    dispatch(toggleActiveModal(false))\n  }\n\n  return (\n    <div>\n      <Modal\n        aria-labelledby=\"transition-modal-title\"\n        aria-describedby=\"transition-modal-description\"\n        className={classes.modal}\n        open={activeModal}\n        onClose={handleClose}\n        closeAfterTransition\n        BackdropComponent={Backdrop}\n        BackdropProps={{\n          timeout: 500,\n        }}\n      >\n        <Fade in={activeModal}>\n          <div className={classes.paper}>\n            <h2 id=\"transition-modal-title\">Transition modal</h2>\n            <p id=\"transition-modal-description\">\n              react-transition-group animates me.\n            </p>\n            <button type=\"button\" onClick={handleEdit}>\n              Edit\n            </button>\n            <button type=\"button\" onClick={handleCreateNote}>\n              Create\n            </button>\n          </div>\n        </Fade>\n      </Modal>\n    </div>\n  )\n}\n","import React from 'react'\nimport { useDispatch } from 'react-redux'\nimport SunEditor from 'suneditor-react'\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport 'suneditor/dist/css/suneditor.min.css'\nimport { changeEditorContent, saveContent } from '../../store/editorReducer'\nimport useShallowEqualSelector from '../../hooks/useShallowEqualSelector'\nimport { AppStateType } from '../../store'\n\nconst Editor = () => {\n  const content = useShallowEqualSelector((state: AppStateType) => state.editor.content)\n  const activeFillEditor = useShallowEqualSelector((state) => state.editor.activeFillEditor)\n  const dispatch = useDispatch()\n\n  const handleChange = (text: string) => {\n    dispatch(changeEditorContent(text))\n  }\n\n  const handleSaveContent = (text: string) => {\n    dispatch(saveContent(text))\n  }\n  return (\n    <SunEditor\n      hide={activeFillEditor}\n      setContents={content}\n      onChange={handleChange}\n      lang=\"ru\"\n      setOptions={{\n        showPathLabel: false,\n        maxCharCount: 720,\n        width: '100%',\n        height: 'auto',\n        minHeight: '100px',\n        maxHeight: '250px',\n        buttonList: [\n          ['undo', 'redo', 'formatBlock'],\n          ['bold', 'underline', 'italic', 'strike'],\n          ['fontColor', 'hiliteColor', 'outdent', 'indent', 'align', 'horizontalRule', 'list', 'table'],\n          ['link', 'image', 'fullScreen', 'showBlocks', 'codeView', 'preview', 'print', 'save']\n        ],\n\n        callBackSave: (text) => handleSaveContent(text),\n      }}\n    />\n  )\n}\n\nexport default Editor\n","import ReactHtmlParser from 'react-html-parser'\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport DeleteIcon from '@material-ui/icons/Delete'\r\nimport React, {\r\n  FC, useCallback,\r\n} from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport styles from '../messages/messages.module.css'\r\nimport {\r\n  activeStateEditor,\r\n  changeEditorContent,\r\n  changeSelectedType,\r\n  setKey,\r\n  toggleActiveFillEditor,\r\n} from '../../store/editorReducer'\r\nimport { deleteNote, changeItemDate } from '../../store/noteReducer'\r\nimport { shouldShowDay } from '../../helpers/shouldShowDay'\r\nimport { changeFormatDate } from '../../helpers/changeFormatDate'\r\n\r\nexport type PropsMessageItem = {\r\n  note: {\r\n    id: number;\r\n    key: string;\r\n    type: string;\r\n    content: string;\r\n    date: string;\r\n    createdAt?: {seconds: number};\r\n  };\r\n  previous?: {createdAt: {seconds: number}; date: string};\r\n  isAll?: boolean | undefined;\r\n}\r\n\r\nexport const MessageItem: FC<PropsMessageItem> = ({ note, previous, isAll }: PropsMessageItem) => {\r\n  const dispatch = useDispatch()\r\n  const date = new Date()\r\n  date.setTime(note.id)\r\n\r\n  const showDay = shouldShowDay(previous, note)\r\n  const showDate = changeFormatDate(new Date(note.id), '/')\r\n\r\n  const editorContent = useCallback(\r\n    (text, key, type, itemDate) => {\r\n      dispatch(changeSelectedType(type))\r\n      dispatch(changeItemDate(itemDate))\r\n      dispatch(activeStateEditor(true))\r\n      dispatch(toggleActiveFillEditor(false))\r\n      dispatch(changeEditorContent(text))\r\n      dispatch(setKey(key))\r\n    },\r\n    [dispatch],\r\n  )\r\n  const removeContent = useCallback(\r\n    async (key, type, dateItem) => {\r\n      console.log('removeContent')\r\n      dispatch(deleteNote(key, type, dateItem))\r\n    },\r\n    [dispatch],\r\n  )\r\n\r\n  return (\r\n    <>\r\n\r\n      <div className={styles.message_item}>\r\n        <div\r\n          className={`${styles.message_item_box} ${\r\n            note.type === 'note' ? styles.class_note : styles.class_awareness\r\n          }`}\r\n        >\r\n          <span className={styles.message_time}>\r\n            {(date.getHours() === 0 ? '0' : '') + date.getHours() }\r\n            :\r\n            { (date.getMinutes() < 10 ? '0' : '') + date.getMinutes()}\r\n          </span>\r\n\r\n          <article className={`${styles.message_text}`}>\r\n            {ReactHtmlParser(note.content)}\r\n          </article>\r\n\r\n        </div>\r\n        <div className={styles.message_remote}>\r\n          <EditIcon\r\n            className={styles.message_editor}\r\n            onClick={() => editorContent(note.content, note.key, note.type, note.date)}\r\n          />\r\n\r\n          <DeleteIcon\r\n            className={styles.message_remove}\r\n            onClick={() => removeContent(note.key, note.type, note.date)}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className={styles.date_item}>{ isAll && showDay && showDate }</div>\r\n    </>\r\n  )\r\n}\r\n","import isSameDay from \"date-fns/isSameDay\"\r\n\r\nexport function shouldShowDay(previous: any, message: any) {\r\n\r\n\r\n  const isFirst = !previous\r\n  if (isFirst) {\r\n    return true\r\n  }\r\n\r\n  const isNewDay = !isSameDay(\r\n    previous.createdAt.seconds * 1000,\r\n    message.createdAt.seconds * 1000,\r\n  )\r\n\r\n  return isNewDay\r\n}\r\n","import React from 'react'\r\n\r\nimport useShallowEqualSelector from '../../hooks/useShallowEqualSelector'\r\nimport { MessageItem } from '../messageItem/MessageItem'\r\nimport styles from './messages.module.css'\r\n\r\nexport const Messages = () => {\r\n  const content = useShallowEqualSelector((state) => state.notes.todayNotes)\r\n  const activeFillEditor = useShallowEqualSelector(\r\n    (state) => state.editor.activeFillEditor)\r\n\r\n  return (\r\n    <div className={`${styles.messages_area} ${!activeFillEditor\r\n      ? styles.messages_area_active_editor\r\n      : ''} `}>\r\n      {/*{loadingNotes ? <div className=\"spinner-border text-success\" role=\"status\">*/}\r\n      {/*  <Spinner/>*/}\r\n      {/*</div> : \"\"}*/}\r\n      {content.map((note: { id: number; type: string; content: string; key: string; date: string;}) => {\r\n        return (\r\n          <MessageItem\r\n            key={note.id}\r\n            note={note}\r\n          />\r\n        )\r\n      })}\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n","import { withStyles } from '@material-ui/core/styles'\r\nimport Button from '@material-ui/core/Button'\r\nimport { purple } from '@material-ui/core/colors'\r\nimport React, { useCallback } from \"react\"\r\nimport { useDispatch } from \"react-redux\"\r\nimport {\r\n  changeEditorContent,\r\n  changeSelectedType,\r\n  toggleActiveFillEditor,\r\n  toggleEditorOldContent\r\n} from \"../../store/editorReducer\"\r\nimport useShallowEqualSelector from \"../../hooks/useShallowEqualSelector\";\r\nimport styles from './editorPanel.module.css';\r\n\r\nexport const EditorPanel = () => {\r\n\r\n  const dispatch = useDispatch()\r\n  const select = useShallowEqualSelector((state) => state.editor.selectedType);\r\n  const activeFillEditor = useShallowEqualSelector((state) => state.editor.activeFillEditor);\r\n\r\n  const selectedType = useCallback((selected) => {\r\n    dispatch(changeSelectedType(selected))\r\n    dispatch(toggleActiveFillEditor(false))\r\n  }, [dispatch])\r\n\r\n  const handelHideEditor = useCallback((value) => {\r\n    console.log('handelHideEditor', value)\r\n    dispatch(toggleActiveFillEditor(true))\r\n    dispatch(toggleEditorOldContent(false))\r\n    dispatch(changeEditorContent(''))\r\n  }, [dispatch])\r\n\r\n  const handelClearEditor = useCallback(() => {\r\n    console.log('handelClearEditor')\r\n    dispatch(toggleEditorOldContent(false))\r\n    dispatch(changeEditorContent(''))\r\n  }, [dispatch])\r\n\r\n  const NoteButton = withStyles((theme) => ({\r\n    root: {\r\n      color: theme.palette.getContrastText(purple[500]),\r\n      backgroundColor: select === 'note' ? '#B6A6F7' : 'default',\r\n      '&:hover': {\r\n        opacity: '0.8',\r\n      },\r\n    },\r\n  }))(Button);\r\n\r\n  const AwarenessButton = withStyles((theme) => ({\r\n    root: {\r\n      color: theme.palette.getContrastText(purple[500]),\r\n      backgroundColor: select === 'note' ? 'default' : '#F6A4D5',\r\n      '&:hover': {\r\n        opacity: '0.8',\r\n      },\r\n    },\r\n  }))(Button);\r\n\r\n  const CleanButton = withStyles((theme) => ({\r\n    root: {\r\n      color: \"#4F68A2\",\r\n      backgroundColor: \"#ffffff\",\r\n      border: \"1px solid #4F68A2\",\r\n      '&:hover': {\r\n        opacity: \"0.8\",\r\n      },\r\n    },\r\n  }))(Button);\r\n\r\n  const HiddenButton = withStyles((theme) => ({\r\n    root: {\r\n      color: \"#4F68A2\",\r\n      backgroundColor: \"#ffffff\",\r\n      border: \"1px solid #4F68A2\",\r\n      '&:hover': {\r\n        opacity: \"0.8\",\r\n      },\r\n    },\r\n  }))(Button);\r\n\r\n  return (\r\n    <div className={styles.editor_panel}>\r\n      <div className={styles.editor_panel_group}>\r\n        <NoteButton variant=\"contained\" color=\"default\"\r\n                    onClick={() => selectedType(\"note\")}>Заметка</NoteButton>\r\n        <AwarenessButton variant=\"contained\" color=\"default\"\r\n                         onClick={() => selectedType(\"awareness\")}>Осознание</AwarenessButton>\r\n      </div>\r\n      {!activeFillEditor && (<div className={styles.editor_panel_group}>\r\n        <CleanButton color=\"default\"\r\n                     onClick={handelClearEditor}>Очистить</CleanButton>\r\n        <HiddenButton color=\"default\"\r\n                      onClick={handelHideEditor}>Скрыть</HiddenButton>\r\n      </div>)}\r\n    </div>\r\n  )\r\n}","import React from 'react';\nimport { SuccessEditModal } from '../modal/Modal';\nimport Editor from '../editor/Editor';\nimport { Messages } from '../messages/Messages';\nimport { EditorPanel } from '../editorPanel/EditorPanel';\nimport useShallowEqualSelector from '../../hooks/useShallowEqualSelector';\nimport { changeFormatDate } from '../../helpers/changeFormatDate';\nimport styles from './note.module.css';\n\nexport const Note = () => {\n  const selectedDate = useShallowEqualSelector((state) =>\n    changeFormatDate(state.calendar.selectedDate, ''));\n  const today = changeFormatDate(new Date(), '');\n  const activeEditor = useShallowEqualSelector(\n    (state) => state.editor.activeEditor\n  );\n\n  if (today === selectedDate || activeEditor) {\n    return (\n      <>\n        <SuccessEditModal />\n        <Messages />\n        <div className={styles.editor}>\n          <EditorPanel />\n          <Editor />\n        </div>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <SuccessEditModal />\n      <Messages />\n    </>\n  );\n};\n","import { BaseThunkType, InferActionsTypes } from './index';\r\nimport { changeFormatDate } from '../helpers/changeFormatDate';\r\nimport { db } from '../services/firebase';\r\n\r\nconst initialState = {\r\n  thunk: '',\r\n  thought: '',\r\n  errorThanks: '' as string,\r\n};\r\n\r\nexport const thunksDayReducer = (state = initialState, action: ActionsType) => {\r\n  switch (action.type) {\r\n    case 'AW/NOTE/FETCH_THANKS_DAY':\r\n    case 'AW/NOTE/FETCH_THANKS_FAILURE':\r\n    case 'AW/NOTE/REQUEST_THANKS':\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst actions = {\r\n  thunksError: (error: string) =>\r\n    ({\r\n      type: 'AW/NOTE/FETCH_THANKS_FAILURE',\r\n      payload: {\r\n        errorThanks: error,\r\n      },\r\n    } as const),\r\n  getThunksToday: (thunk: string, thought: string) =>\r\n    ({\r\n      type: 'AW/NOTE/FETCH_THANKS_DAY',\r\n      payload: {\r\n        thunk,\r\n        thought,\r\n        errorThanks: '',\r\n      },\r\n    } as const),\r\n  requestThoughtToday: () =>\r\n    ({\r\n      type: 'AW/NOTE/REQUEST_THANKS',\r\n      payload: {\r\n        thunk: '',\r\n        thought: '',\r\n        errorThanks: '',\r\n      },\r\n    } as const),\r\n};\r\n\r\nexport const requestDataThanks = (): ThunkType => async (dispatch) => {\r\n  dispatch(actions.requestThoughtToday())\r\n}\r\n\r\nexport const fetchToDayThanks = (): ThunkType => async (dispatch, getState) => {\r\n\r\n  const selectedDate = changeFormatDate(getState().calendar.selectedDate, '');\r\n  const userUid = getState().auth.uid;\r\n  try {\r\n    // const thunk = await db\r\n    //   .doc(`${userUid}/${selectedDate}/thunks/thunks`)\r\n    //   .get();\r\n    // const thought = await db\r\n    //   .doc(`${userUid}/${selectedDate}/thunks/thought`)\r\n    //   .get();\r\n\r\n    const arrThunk = await db\r\n      .collection(`${userUid}/${selectedDate}/thunks/`)\r\n      .get();\r\n\r\n    let thunks: any = ''\r\n    let thought: any = ''\r\n    arrThunk.forEach((doc) => {\r\n      if (doc.id === 'thunks') {\r\n        if (doc.data().content) {\r\n          thunks = doc.data().content\r\n        } else {\r\n          thunks = ''\r\n        }\r\n      }\r\n\r\n      if (doc.id === 'thought') {\r\n        if (doc.data().content) {\r\n          thought = doc.data().content\r\n        } else {\r\n          thought = ''\r\n        }\r\n      }\r\n    })\r\n\r\n    dispatch(actions.getThunksToday(thunks, thought));\r\n  } catch (error) {\r\n    dispatch(actions.thunksError(error));\r\n  }\r\n};\r\n\r\nexport const addThanks = (content: string, type: string): ThunkType => async (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  const selectedDate = changeFormatDate(getState().calendar.selectedDate, '');\r\n  const today = changeFormatDate(new Date(), '');\r\n  const userUid: string = getState().auth.uid;\r\n\r\n  if (today !== selectedDate) {\r\n    return;\r\n  }\r\n\r\n  const thunksRef = db\r\n    .collection(userUid)\r\n    .doc(selectedDate)\r\n    .collection('thunks')\r\n    .doc(type);\r\n\r\n  try {\r\n    await thunksRef.set({\r\n      content,\r\n    });\r\n  } catch (error) {\r\n    dispatch(actions.thunksError(error));\r\n  }\r\n  dispatch(fetchToDayThanks());\r\n};\r\n\r\ntype InitialStateType = typeof initialState;\r\ntype ActionsType = InferActionsTypes<typeof actions>;\r\ntype ThunkType = BaseThunkType<ActionsType>;\r\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport {\n  format,\n  startOfWeek,\n  endOfMonth,\n  addDays,\n  startOfMonth,\n  endOfWeek,\n  isSameMonth,\n  isSameDay,\n  addMonths,\n  subMonths,\n  isFuture,\n} from 'date-fns';\nimport { ru } from 'date-fns/locale';\n\nimport styles from './SidebarCalendar.module.css';\nimport { changeFormatDate } from '../../helpers/changeFormatDate';\nimport { fetchToDayData } from '../../store/calendarReducer';\nimport {\n  changeEditorContent,\n  toggleActiveFillEditor,\n  toggleEditorOldContent,\n} from '../../store/editorReducer';\nimport { fetchToDayActivity } from '../../store/activityReducer';\nimport {fetchToDayThanks} from \"../../store/thunksDayReducer\";\n\nclass Calendar extends React.Component {\n  state = {\n    currentMonth: new Date(),\n  };\n\n  renderHeader() {\n    const dateFormat = 'MMMM yyyy';\n    return (\n      <div className={`${styles.header} ${styles.row}`}>\n        <div className={`${styles.col} ${styles.colStart}`}>\n          <div className={`${styles.icon}`} onClick={this.prevMonth}>\n            chevron_left\n          </div>\n        </div>\n        <div className={`${styles.col}  ${styles.colCenter}`}>\n          <span>\n            {format(this.state.currentMonth, dateFormat, { locale: ru })}\n          </span>\n        </div>\n        <div\n          className={`${styles.col} ${styles.colEnd}`}\n          onClick={this.nextMonth}\n        >\n          <div className={`${styles.icon}`}>chevron_right</div>\n        </div>\n      </div>\n    );\n  }\n\n  renderDays() {\n    const dateFormat = 'EEE';\n    const days = [];\n    let startDate = startOfWeek(this.state.currentMonth);\n    for (let i = 0; i < 7; i++) {\n      let dayWek = format(addDays(startDate, i), dateFormat, { locale: ru });\n      days.push(\n        <div\n          className={`${styles.col} ${styles.colCenter} ${styles.dayWek}`}\n          key={i}\n        >\n          {dayWek}\n        </div>\n      );\n    }\n    return <div className={`${styles.days} ${styles.row}`}>{days}</div>;\n  }\n\n  renderCells() {\n    const { currentMonth } = this.state;\n    const { selectedDate } = this.props;\n    const monthStart = startOfMonth(currentMonth);\n    const monthEnd = endOfMonth(monthStart);\n    const startDate = startOfWeek(monthStart);\n    const endDate = endOfWeek(monthEnd);\n\n    const dateFormat = 'd';\n    const rows = [];\n\n    let days = [];\n    let day = startDate;\n    let formattedDate = '';\n\n    while (day <= endDate) {\n      for (let i = 0; i < 7; i++) {\n        formattedDate = format(day, dateFormat);\n        const cloneDay = day;\n\n        days.push(\n          <div\n            className={`${styles.col} ${styles.cell}\n              ${\n                !isSameMonth(day, monthStart)\n                  ? `disabled ${styles.disabled}`\n                  : isSameDay(day, new Date())\n                  ? `selected ${styles.selected}`\n                  : ''\n              }\n              ${isSameDay(day, selectedDate) ? styles.selectedDay : ''}\n              ${isFuture(day) ? `disabled ${styles.disabled}` : ''}\n            }`}\n            key={day}\n            onClick={() => this.onDateClick(cloneDay)}\n          >\n            <span className={`${styles.number}`}>{formattedDate}</span>\n\n            <span className={`${styles.bg}`}></span>\n          </div>\n        );\n        day = addDays(day, 1);\n      }\n      rows.push(\n        <div className={`${styles.row}`} key={day}>\n          {days}\n        </div>\n      );\n      days = [];\n    }\n    return <div className={`${styles.body}`}>{rows}</div>;\n  }\n\n  onDateClick = (day) => {\n    this.props.history.push(`/day/${changeFormatDate(day)}`);\n    this.props.fetchToDayData(day);\n    this.props.toggleEditorOldContent(false);\n    this.props.changeEditorContent('');\n    this.props.toggleActiveFillEditor(true);\n    this.props.fetchToDayActivity();\n    this.props.fetchToDayThanks();\n  };\n\n  nextMonth = () => {\n    this.setState({\n      currentMonth: addMonths(this.state.currentMonth, 1),\n    });\n  };\n\n  prevMonth = () => {\n    this.setState({\n      currentMonth: subMonths(this.state.currentMonth, 1),\n    });\n  };\n\n  render() {\n    return (\n      <div className={`${styles.calendar}`}>\n        {this.renderHeader()}\n        {this.renderDays()}\n        {this.renderCells()}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    selectedDate: state.calendar.selectedDate\n    // loadingSmiles: state.smile.loadingSmiles,\n    // errorSmiles: state.smile.errorSmiles,\n  };\n};\n\nexport default connect(mapStateToProps, {\n  fetchToDayData,\n  toggleEditorOldContent,\n  changeEditorContent,\n  toggleActiveFillEditor,\n  fetchToDayActivity,\n  fetchToDayThanks,\n})(withRouter(Calendar));\n","import React, { useEffect, useState, ChangeEvent, FC } from 'react';\nimport SaveIcon from '@material-ui/icons/Save';\nimport styles from './inputDay.module.css';\nimport { useDispatch } from 'react-redux';\n\nimport { addThanks, fetchToDayThanks } from './../../store/thunksDayReducer';\nimport { isSameDay } from 'date-fns';\n\ntype PropsType = {\n  title: string;\n  type: string;\n  value: string;\n  selectedDate: Date;\n};\n\nexport const InputDay: FC<PropsType> = ({\n  title,\n  type,\n  value,\n  selectedDate,\n}) => {\n  const [text, setText] = useState('');\n  const [editMode, setEditMode] = useState(true);\n  const [hadChange, setHadChange] = useState(false);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(fetchToDayThanks());\n    setText(value);\n    if (value) {\n      setEditMode(false);\n    } else {\n      setEditMode(true);\n    }\n  }, [dispatch, value]);\n\n  const changeText = (e: ChangeEvent<HTMLTextAreaElement>) => {\n    setText(e.target.value);\n    if (text !== value) {\n      setHadChange(true);\n    }\n  };\n\n  const activeEditMode = () => {\n    setEditMode(true);\n  };\n\n  const deActiveEditMode = () => {\n    dispatch(addThanks(text, type));\n    setEditMode(false);\n    setHadChange(false);\n  };\n  if (editMode && isSameDay(selectedDate, new Date())) {\n    return (\n      <div className={styles.blockInput}>\n        <p className={styles.inputTitle}>{title}</p>\n        <textarea\n          className={styles.input}\n          rows={3}\n          value={text}\n          onChange={changeText}\n          autoFocus\n        >\n          {' '}\n        </textarea>\n\n        <SaveIcon\n          className={styles.save}\n          onClick={deActiveEditMode}\n          style={hadChange ? { color: '#3f51b5' } : { color: '#AFBAD1' }}\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div className={styles.blockInput}>\n      <p className={styles.inputTitle}>{title}</p>\n      <div onClick={activeEditMode}>\n        <p className={styles.showText}>{text}</p>\n      </div>\n    </div>\n  );\n};\n","import React, { FC, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Brightness5Icon from '@material-ui/icons/Brightness5';\nimport Brightness7Icon from '@material-ui/icons/Brightness7';\n\nimport SpaOutlinedIcon from '@material-ui/icons/SpaOutlined';\nimport SpaIcon from '@material-ui/icons/Spa';\n\nimport styles from './activityEvent.module.css';\n\nimport {\n  addActivity,\n  removeActivity,\n  fetchToDayActivity,\n} from '../../store/activityReducer';\nimport { AppStateType } from '../../store';\n\nexport const ActivityEvent: FC = () => {\n  const dispatch = useDispatch();\n  const todayActivity = useSelector(\n    (state: AppStateType) => state.activity.todayActivity\n  );\n  const activeMeditation = todayActivity.includes('Meditation');\n  const activeYoga = todayActivity.includes('Yoga');\n\n  useEffect(() => {\n    dispatch(fetchToDayActivity());\n  }, [dispatch]);\n\n  const handleActive = (name: string) => {\n    const active = todayActivity.includes(name);\n    if (active) {\n      dispatch(removeActivity(name));\n    } else {\n      dispatch(addActivity(name));\n    }\n  };\n\n  return (\n    <div className={styles.actionBox}>\n      <div\n        className={styles.actionItem}\n        onClick={() => handleActive('Meditation')}\n      >\n        {activeMeditation ? (\n          <Brightness7Icon style={{ color: '#F6A4D5' }} />\n        ) : (\n          <Brightness5Icon style={{ color: '#AFBAD1' }} />\n        )}\n        <p className={styles.actionText}>Meditation</p>\n      </div>\n      <div className={styles.actionItem} onClick={() => handleActive('Yoga')}>\n        {activeYoga ? (\n          <SpaIcon style={{ color: '#F6A4D5' }} />\n        ) : (\n          <SpaOutlinedIcon style={{ color: '#AFBAD1' }} />\n        )}\n        <p className={styles.actionText}>Yoga</p>\n      </div>\n    </div>\n  );\n};\n","import React, { FC } from 'react';\r\nimport styles from './sidebar.module.css';\r\nimport SidebarCalendar from '../sidebarCalendar/SidebarCalendar';\r\nimport { InputDay } from '../inputDay/InputDay';\r\nimport { ActivityEvent } from '../activityEvent/ActivityEvent';\r\nimport { useSelector } from 'react-redux';\r\nimport { AppStateType } from '../../store';\r\n\r\nexport const Sidebar: FC = () => {\r\n  const selectedDate = useSelector(\r\n    (state: AppStateType) => state.calendar.selectedDate\r\n  );\r\n  const thunksValue = useSelector((state: AppStateType) => state.thunks.thunk);\r\n\r\n  const thoughtValue = useSelector(\r\n    (state: AppStateType) => state.thunks.thought\r\n  );\r\n  console.log(thoughtValue)\r\n  return (\r\n    <div className={styles.pageDaySideBar}>\r\n      <SidebarCalendar />\r\n      <InputDay\r\n        title=\"Мысль дня:\"\r\n        type=\"thought\"\r\n        value={thoughtValue}\r\n        selectedDate={selectedDate}\r\n      />\r\n      <InputDay\r\n        title=\"Благодарность:\"\r\n        type=\"thunks\"\r\n        value={thunksValue}\r\n        selectedDate={selectedDate}\r\n      />\r\n      <ActivityEvent />\r\n    </div>\r\n  );\r\n};\r\n","import React, { FC, useEffect } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport styles from './day.module.css';\nimport { AppStateType } from '../../store';\nimport { getNotesSelectedDay } from '../../store/noteReducer';\nimport { Note } from '../../component/note/Note';\nimport { fetchToDayThanks } from '../../store/thunksDayReducer';\nimport {Sidebar} from \"../../component/sidebar/Sidebar\";\n\nexport const Day: FC = () => {\n  const selectedDate = useSelector(\n    (state: AppStateType) => state.calendar.selectedDate\n  );\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(getNotesSelectedDay());\n    dispatch(fetchToDayThanks());\n  }, [dispatch]);\n\n  if (selectedDate === null) {\n    return <Redirect to=\"/\" />;\n  }\n\n  return (\n    <div className={styles.pageDay}>\n      <div className={styles.pageDayContent}>\n        <Note />\n      </div>\n     <Sidebar />\n    </div>\n  );\n};\n","import React, { FC, useEffect } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { useLocation } from 'react-router-dom'\nimport InfiniteScroll from 'react-infinite-scroll-component'\nimport {\n  getAllNotes,\n  getNotesSelectedDay,\n} from '../../store/noteReducer'\nimport useShallowEqualSelector from '../../hooks/useShallowEqualSelector'\nimport styles from './allMessages.module.css'\nimport { AppStateType } from '../../store'\nimport { fetchToDayThanks } from '../../store/thunksDayReducer'\nimport { MessageItem } from '../messageItem/MessageItem'\n\n\nexport const AllMessages: FC = () => {\n\n  const activeFillEditor = useShallowEqualSelector(\n    (state: AppStateType) => state.editor.activeFillEditor,\n  )\n  const allNotes = useShallowEqualSelector(\n    (state: AppStateType) => state.notes.allNotes,\n  )\n  const runOutOfNotes = useShallowEqualSelector(\n    (state: AppStateType) => state.notes.runOutOfNotes,\n  )\n  const inverse = true\n  const isAll = true\n  const dispatch = useDispatch()\n  const useHistory = useLocation();\n  const pathWithSlash = useHistory.pathname.substring(1)\n\n  useEffect(() => {\n    dispatch(getNotesSelectedDay())\n    dispatch(fetchToDayThanks())\n    dispatch(getAllNotes(pathWithSlash))\n  }, [dispatch, pathWithSlash])\n  return (\n    <div\n      className={`${styles.messages_area} ${\n        !activeFillEditor ? styles.messages_area_active_editor : ''\n      } `}\n      id=\"scrollableDiv\"\n      style={{\n        // height: 300,\n        overflow: 'auto',\n        display: 'flex',\n        flexDirection: 'column-reverse',\n      }}\n    >\n      {/*{loadingNotes ? <div className=\"spinner-border text-success\" role=\"status\">*/}\n      {/*  <Spinner/>*/}\n      {/*</div> : \"\"}*/}\n      <InfiniteScroll\n        dataLength={allNotes.length}\n        next={() => dispatch(getAllNotes(pathWithSlash))}\n        style={{ display: 'flex', flexDirection: 'column-reverse' }}\n        inverse={inverse}\n        hasMore={runOutOfNotes}\n        loader={<h4>Loading...</h4>}\n        scrollableTarget=\"scrollableDiv\"\n      >\n\n      { allNotes && allNotes.map(\n        // eslint-disable-next-line max-len\n        (note: { id: number; type: string; content: string; key: string; date: string; createdAt: {seconds: number} }, index) => {\n          const previous = allNotes[index + 1]\n          return (\n            <MessageItem\n              key={note.key}\n              note={note}\n              previous={previous}\n              isAll={isAll}\n            />\n          )\n        },\n      )}\n      </InfiniteScroll>\n    </div>\n  )\n}\n","import React, { FC, useCallback, useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport { getNotesSelectedDay } from '../../store/noteReducer';\r\nimport { fetchToDayThanks } from '../../store/thunksDayReducer';\r\nimport { Sidebar } from '../../component/sidebar/Sidebar';\r\nimport { SuccessEditModal } from '../../component/modal/Modal';\r\nimport Editor from '../../component/editor/Editor';\r\nimport { AllMessages } from '../../component/allMessages/AllMessages';\r\n\r\nimport {\r\n  changeEditorContent,\r\n  toggleActiveFillEditor,\r\n  toggleEditorOldContent,\r\n} from '../../store/editorReducer';\r\nimport useShallowEqualSelector from '../../hooks/useShallowEqualSelector';\r\nimport styles from './notes.module.css';\r\n\r\nexport const Notes: FC = () => {\r\n  const activeFillEditor = useShallowEqualSelector(\r\n    (state) => state.editor.activeFillEditor\r\n  );\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(getNotesSelectedDay());\r\n    dispatch(fetchToDayThanks());\r\n  }, [dispatch]);\r\n\r\n  const handelHideEditor = useCallback(\r\n    (value) => {\r\n      dispatch(toggleActiveFillEditor(true));\r\n      dispatch(toggleEditorOldContent(false));\r\n      dispatch(changeEditorContent(''));\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  return (\r\n    <div className={styles.pageDay}>\r\n      <div className={styles.pageDayContent}>\r\n        <SuccessEditModal />\r\n        <AllMessages />\r\n        <div className={styles.editor}>\r\n          {!activeFillEditor && (\r\n            <Button className={styles.button} color=\"default\" onClick={handelHideEditor}>\r\n              Скрыть\r\n            </Button>\r\n          )}\r\n          <Editor />\r\n        </div>\r\n      </div>\r\n      <Sidebar />\r\n    </div>\r\n  );\r\n};\r\n","import React, { FC, useEffect } from 'react';\nimport { Switch } from 'react-router-dom';\nimport Container from '@material-ui/core/Container';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport { Home } from './pages/Home';\nimport { Login } from './pages/Sign/Login';\nimport { SignUp } from './pages/Sign/Signup';\nimport { Spinner } from './component/spinner/Spinner';\nimport { getAuthUserData } from './store/authReducer';\nimport { AppStateType } from './store';\nimport { PrivateRoute, PublicRoute } from './helpers/customRoute';\nimport { Day } from './pages/Day/Day';\nimport { Notes } from './pages/Notes/Notes';\nimport styles from './App.module.css';\n\nconst App: FC = (props) => {\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(getAuthUserData());\n  }, [dispatch]);\n\n  const loading = useSelector((state: AppStateType) => state.auth.loading);\n  const isAuth = useSelector((state: AppStateType) => state.auth.isAuth);\n\n  if (loading === true) {\n    return <Spinner />;\n  }\n\n  return (\n    <Container className={styles.container} maxWidth=\"xl\">\n      <Switch>\n        <PrivateRoute exact path=\"/\" authenticated={isAuth} component={Home} {...props} />\n        <PrivateRoute path=\"/note\" authenticated={isAuth} component={Notes} />\n        <PrivateRoute\n          path=\"/awareness\"\n          authenticated={isAuth}\n          component={Notes}\n        />\n        <PrivateRoute\n          path=\"/day/:dayId?\"\n          authenticated={isAuth}\n          component={Day}\n        />\n        <PublicRoute path=\"/signup\" authenticated={isAuth} component={SignUp} />\n        <PublicRoute path=\"/login\" authenticated={isAuth} component={Login} />\n      </Switch>\n    </Container>\n  );\n};\n\nexport default App;\n","import {\r\n  Action,\r\n  applyMiddleware,\r\n  combineReducers,\r\n  compose,\r\n  createStore,\r\n} from 'redux';\r\nimport thunkMiddleware, { ThunkAction } from 'redux-thunk';\r\n\r\nimport { authReducer } from './authReducer';\r\nimport calendarReducer from './calendarReducer';\r\nimport { notesReducer } from './noteReducer';\r\nimport { editorReducer } from './editorReducer';\r\nimport activityReducer from './activityReducer';\r\nimport { thunksDayReducer } from './thunksDayReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n  thunks: thunksDayReducer,\r\n  activity: activityReducer,\r\n  editor: editorReducer,\r\n  notes: notesReducer,\r\n  calendar: calendarReducer,\r\n  auth: authReducer,\r\n});\r\n\r\ntype RootReducerType = typeof rootReducer;\r\nexport type AppStateType = ReturnType<RootReducerType>;\r\n\r\nexport type InferActionsTypes<T> = T extends {\r\n  [keys: string]: (...args: any[]) => infer U;\r\n}\r\n  ? U\r\n  : never;\r\n\r\nexport type BaseThunkType<\r\n  A extends Action = Action,\r\n  R = Promise<void>\r\n> = ThunkAction<R, AppStateType, unknown, A>;\r\n\r\n// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nexport const store = createStore(\r\n  rootReducer,\r\n  composeEnhancers(applyMiddleware(thunkMiddleware)),\r\n);\r\n","import React, { FC } from 'react';\n\nimport './error-indicator.css';\nimport icon from './death-star.png';\n\nexport const ErrorIndicator: FC = () => (\n  <div className=\"error-indicator\">\n    <img src={icon} alt=\"error icon\" />\n    <span className=\"boom\">BOOM!</span>\n    <span>something has gone terribly wrong</span>\n    <span>(but we already sent droids to fix it)</span>\n  </div>\n);\n","import React, { Component } from 'react';\r\n\r\nimport { ErrorIndicator } from '../errorIndicator/index';\r\n\r\nexport default class ErrorBoundry extends Component {\r\n  state = {\r\n    hasError: false,\r\n  };\r\n\r\n  componentDidCatch() {\r\n    this.setState({\r\n      hasError: true,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return <ErrorIndicator />;\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nimport App from './App';\nimport { store } from './store/index';\nimport ErrorBoundry from './component/ErrorBoundry';\n\nconst app = (\n  <Provider store={store}>\n    <ErrorBoundry>\n      <Router>\n        <App />\n      </Router>\n    </ErrorBoundry>\n  </Provider>\n);\n\nReactDOM.render(\n  app,\n  document.getElementById('root'),\n);\n\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Sign_wrapper__3EkaY\",\"form_box\":\"Sign_form_box__3olgG\",\"header_block\":\"Sign_header_block__2KOSb\",\"title\":\"Sign_title__3Whmr\",\"submit\":\"Sign_submit__2HMvl\",\"signGoogle\":\"Sign_signGoogle__3d4RE\",\"signup\":\"Sign_signup__3lw6m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messages_area\":\"messages_messages_area__uHjwh\",\"messages_area_active_editor\":\"messages_messages_area_active_editor__3AaQe\",\"message_item\":\"messages_message_item__1wqm4\",\"class_note\":\"messages_class_note__1Hz1b\",\"class_awareness\":\"messages_class_awareness__YgHXB\",\"message_item_box\":\"messages_message_item_box__1Vmhn\",\"message_time\":\"messages_message_time__1ejCz\",\"message_text\":\"messages_message_text__hKe9G\",\"message_remote\":\"messages_message_remote__t2d8T\",\"message_editor\":\"messages_message_editor__1YjSC\",\"message_remove\":\"messages_message_remove__1xnOI\",\"date_item\":\"messages_date_item__1yJAy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerContainer\":\"Header_headerContainer__3gK6B\",\"headerLogo\":\"Header_headerLogo__GipWW\",\"headerDate\":\"Header_headerDate__2yeKO\",\"headerNavigationBlock\":\"Header_headerNavigationBlock__2FnCt\",\"headerNavigation\":\"Header_headerNavigation__3Fhp7\",\"headerNavigationItem\":\"Header_headerNavigationItem__2d-jf\",\"headerNavigationItemCenter\":\"Header_headerNavigationItemCenter__1wZob\",\"headerLogout\":\"Header_headerLogout__3r3J8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"blockInput\":\"inputDay_blockInput__k3TF2\",\"inputTitle\":\"inputDay_inputTitle__au8MJ\",\"input\":\"inputDay_input__1IRYk\",\"showText\":\"inputDay_showText__2AOeP\",\"save\":\"inputDay_save__1vKH6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"actionBox\":\"activityEvent_actionBox__sdLCh\",\"actionItem\":\"activityEvent_actionItem__97kJi\",\"actionText\":\"activityEvent_actionText__2A6Nc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageDay\":\"notes_pageDay__KZyLp\",\"pageDayContent\":\"notes_pageDayContent__ZUsDK\",\"editor\":\"notes_editor__QlVvK\",\"button\":\"notes_button__1VbZa\"};","module.exports = __webpack_public_path__ + \"static/media/google.1acf3b9c.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"editor_panel\":\"editorPanel_editor_panel__2We5s\",\"editor_panel_group\":\"editorPanel_editor_panel_group__S62-q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageDay\":\"day_pageDay__2Jgis\",\"pageDayContent\":\"day_pageDayContent__21BtE\",\"pageDaySideBar\":\"day_pageDaySideBar__25eC5\",\"Calendar_smile__18_Of\":\"day_Calendar_smile__18_Of__ORw6-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messages_area\":\"allMessages_messages_area__1fBHj\",\"messages_area_active_editor\":\"allMessages_messages_area_active_editor__3HGAL\",\"message_item\":\"allMessages_message_item__3DGGk\",\"class_note\":\"allMessages_class_note__2eYss\",\"class_awareness\":\"allMessages_class_awareness__1rKvN\",\"message_item_box\":\"allMessages_message_item_box__yLO_0\",\"message_time\":\"allMessages_message_time__E0rh1\",\"message_text\":\"allMessages_message_text__1WLYW\",\"message_remote\":\"allMessages_message_remote__3P_Ws\",\"message_editor\":\"allMessages_message_editor__1DxpD\",\"message_remove\":\"allMessages_message_remove__1QMlV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon\":\"Calendar_icon__1VCOU\",\"logo\":\"Calendar_logo__1vf5l\",\"row\":\"Calendar_row__12k7n\",\"row-middle\":\"Calendar_row-middle__cynuY\",\"col\":\"Calendar_col__dZaRJ\",\"colStart\":\"Calendar_colStart__1gIv7\",\"colCenter\":\"Calendar_colCenter__VdiNf\",\"colEnd\":\"Calendar_colEnd__c2hVI\",\"calendar\":\"Calendar_calendar__20ymr\",\"header\":\"Calendar_header__n_t08\",\"days\":\"Calendar_days__3o9xZ\",\"cell\":\"Calendar_cell__27Zoq\",\"selected\":\"Calendar_selected__OM7G1\",\"body\":\"Calendar_body__35nCY\",\"number\":\"Calendar_number__10VpR\",\"disabled\":\"Calendar_disabled__3ygA8\",\"bg\":\"Calendar_bg__1gMSQ\",\"activities\":\"Calendar_activities__1_imC\",\"allActivity\":\"Calendar_allActivity__1_Ucw\",\"activity\":\"Calendar_activity__sqVRf\",\"notesToday\":\"Calendar_notesToday__2hpTH\",\"awarenesToday\":\"Calendar_awarenesToday__38vjY\"};"],"sourceRoot":""}