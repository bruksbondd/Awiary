(this.webpackJsonpawiary=this.webpackJsonpawiary||[]).push([[0],{107:function(e,t,a){e.exports=a.p+"static/media/signOut.05fcdd59.svg"},11:function(e,t,a){e.exports={icon:"SidebarCalendar_icon__3SLLn",logo:"SidebarCalendar_logo__3MpKN",row:"SidebarCalendar_row__1TCvF","row-middle":"SidebarCalendar_row-middle__2f9RJ",col:"SidebarCalendar_col__1He9M",colStart:"SidebarCalendar_colStart__2xeHU",colCenter:"SidebarCalendar_colCenter__yvaXA",colEnd:"SidebarCalendar_colEnd__2zgfs",calendar:"SidebarCalendar_calendar__18kct",header:"SidebarCalendar_header__1mr_9",days:"SidebarCalendar_days__2F7bh",cell:"SidebarCalendar_cell__1UFQC",selected:"SidebarCalendar_selected__Uhfm5",body:"SidebarCalendar_body__flbNT",number:"SidebarCalendar_number__gA90f",disabled:"SidebarCalendar_disabled__1hcJN",bg:"SidebarCalendar_bg__15yBc",selectedDay:"SidebarCalendar_selectedDay__G-BhO"}},112:function(e,t,a){e.exports={editor:"note_editor__3Nu_m"}},113:function(e,t,a){e.exports={pageDaySideBar:"sidebar_pageDaySideBar__25beE"}},118:function(e,t,a){e.exports={container:"App_container__fkyjV",App:"App_App__iePe9","App-logo":"App_App-logo__jXAwo","App-logo-spin":"App_App-logo-spin__3vZlR","App-header":"App_App-header__3d04R","App-link":"App_App-link__3-vbu"}},120:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABcVBMVEUAAACUMUKVNESUNUaTNEWTNEWTNUWUNEWUNEWUNEWTNEWUNEWUNEWVNEWVNESUNUeWMkOUNUWVNEWUNEWTM0aVNUSSN0mVNUaUNEWUNEWUNEWVNESSNESWLUuUNESUNEWUNEafQECUNEaUNUWXNEaUMkaUNEWVNUaVM0SUNEWUM0WdO06UM0SVM0WSNkeVNUCUNEWUNEWVNEaUNESTMUWVMkSXOEiUNEWUNUSVNUSVK0CUNEWVNEWQN0OUNEaVNESUNEWAQED/AACUNEWZM02UNEaTNUaVM0SVNUaUNEaTNESSN0mUNEWUNUaZMzOUNEWVM0WUNEWTNkWUNEWVNEaXLkaUNEWUNEWXOUKUNEWVM0WUNkWSMkeUNEWUNUWUNEWUNEWVNUSUM0aTNUaTMkSUNEaUNESUNEWUNESPMECUNEWUNkOUNEWTNESUNUaTNEWZM0CUNEWVNEaUNUWVNUWSNUSUNEWUNEWTNESUNEUAAAAeSPByAAAAeXRSTlMAH155k63H4fjr07qiiWwrLn7O45pSDh2N3vuvMRGK97AIde4sTOJqeP2pDaTaLxjIwYRPGikg7FZlDNK2F8aoegQB2wpYhzxbko4c9j4Fnn3zNNS7FsuyG/FzUT3+jF3lwm5XR2Lya3AQ+ibqU6WmFNZx6TBESqdASVNu+gAAAAFiS0dEAIgFHUgAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiCRwPAQ3scZC+AAACoUlEQVRYw6WX+WPSMBTH6z11OhXva4hnFR0MdBsymGzshLmjKEMZG7svd3jmv7fJo23SJDQl35+S9/I+TV7SHIYh16nTZ86eO3+h6+Kly91XrvYY4XTt+g3EKnLz1m3V6Dt37yGR7j94qBL+6HEvkioaiHgSe4raKvqsbfzzFyhIXS/bxL8yA+NtvX4j635cJdzW23fC+L6E1yTZn0qnU/1JCaH3vSD+Q8T1Dww6xsEBMWGIj898dL3ZYc88nOWjc/mRT1x8Ier6R8dox9goByiKEjDuus0J1jNhqgAmPfcUWFLT0ykoTSkAZkqeu4wNs2To2VlcLisAPnteM4MNc1CZI+k1AwE9dpP5Bfu7MYQWiWURmnoVq0KKC/Me50vGBXzFc4MLVbvbxLIEbZZIBQ+n1mqao3ryzYn/jmv15WKxYSG0Qkyr0GSVVFbsUqS5hrVcFw2FXbBpbFqH8joupyXr2QXM1BkzTN7GJkKbGzChQYAt1pwswNIulyFJhWQQwPLZt9kp2pbFO0nc2fXZS3t0/F5JFu9M4yTn2T/w4g/2hcH0J34I/IdH4Ds6lHydBiREDczj+MlJ/NhECoDgfbg9oLCrCah0Ev+TAvyy5yMfUt2/KcAfhBqGjrQBYYfQ9APCJjHvB4SdRg4QdiHxAFjKrS0L1LDkgL8cAH6mGmOrhukB/M6tbRuEt3d1wI5KFmP4jKqwI3PPBUsBUCUta6zRORe2FABWw85tM8Ia11oA37auLsnB0gHAPdps+bupBPAOVz5RagDneOenShFAXzA6yQF7xVHXP249KyoHW0utQC/o8RAA4T2Rumh2BqCvusFDEFx1mct2sIZEfehLKMcLr/v6Dw5D+8lj6D+69J99hvbDE0vz6Uuk9/gGKT3//wOKqXrHYMfrIgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0wOS0yOFQxNTowMToxMyswMjowMIL/AEkAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTgtMDktMjhUMTU6MDE6MTMrMDI6MDDzorj1AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg=="},128:function(e,t,a){e.exports=a(191)},172:function(e,t){},190:function(e,t,a){},191:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),o=a.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=a(4),i=a(16),s=a(14),u=a(227),d=a(19),p=a(228),m=a(213),f=a(214),_=a(215),E=a(216),v=a(217),h=a(220),b=a(121),g=a(221),y=a(106),N=a(222),A=a(231),O=a(9),T=a.n(O),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=new Date(e);return"".concat(a.getDate()).concat(t).concat(a.getMonth()+1).concat(t).concat(a.getFullYear())},j=a(2),w=a.n(j),k=a(5),S=a(7),D=a(81),x=a(35),U=a.n(x);a(138),a(141),a(143);U.a.initializeApp({apiKey:"AIzaSyAhacW7OM7GWEk3PdBHfPG737Day2m0l7w",authDomain:"awiary.firebaseapp.com",databaseURL:"https://awiary.firebaseio.com",projectId:"awiary",storageBucket:"awiary.appspot.com",messagingSenderId:"423330521559",appId:"423330521559:web:39c2d4dd1a714b498b2b92"});var W=U.a.auth,M=U.a.firestore(),F=U.a.database();function I(e){var t={state:"offline",lastChanged:U.a.database.ServerValue.TIMESTAMP},a={state:"online",lastChanged:U.a.database.ServerValue.TIMESTAMP},n={state:"offline",lastChanged:U.a.firestore.FieldValue.serverTimestamp()},r={state:"online",lastChanged:U.a.firestore.FieldValue.serverTimestamp()},c=F.ref("/status/".concat(e.uid)),o=M.doc("/users/".concat(e.uid));F.ref(".info/connected").on("value",function(){var e=Object(k.a)(w.a.mark((function e(l){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==l.val()){e.next=3;break}return o.update({status:n}),e.abrupt("return");case 3:return e.next=5,c.onDisconnect().set(t);case 5:c.set(a),o.update({status:r});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}var H={allNotes:[],allNotesMonth:[],todayNotes:[],loadingNotes:!0,lastSnapshot:null,runOutOfNotes:!0,errorNotes:null,content:"",itemDate:"",key:null,dataNewDay:null,typePage:"note"},R=function(e){return{type:"AW/NOTE/FETCH_NOTES_FAILURE",payload:{todayNotes:[],loadingNotes:!1,errorNotes:e}}},V=function(e){return{type:"AW/NOTE/FETCH_NOTES_DAY",payload:{loadingNotes:!1,errorNotes:null,todayNotes:e}}},L=function(e){return{type:"AW/NOTE/FETCH_NOTES_MONTHS",payload:{loadingNotes:!1,errorNotes:null,allNotesMonth:e}}},B=function(e){return{type:"AW/NOTE/FETCH_NOTES_ALL",payload:{loadingNotes:!1,errorNotes:null,allNotes:e}}},G=function(e){return{type:"AW/NOTE/SET_LAST_NOTES",payload:{loadingNotes:!1,errorNotes:null,lastSnapshot:e}}},Y=function(e){return{type:"AW/NOTE/FINISH_SCROLL_NOTES",payload:{loadingNotes:!1,errorNotes:null,runOutOfNotes:e}}},P=function(e){return{type:"AW/NOTE/SET_DATE_ITEM",payload:{itemDate:e}}},K=function(e){return{type:"AW/NOTE/SET_TYPE_PAGE",payload:{typePage:e}}},Q=function(){return function(){var e=Object(k.a)(w.a.mark((function e(t,a){var n,r,c,o,l,i,s,u;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=C(a().calendar.selectedDate,""),r=a().auth.uid,e.prev=2,c=[],o=M.collection("".concat(r,"/").concat(n,"/notes")),e.next=7,o.get();case 7:l=e.sent,i=Object(D.a)(l.docs);try{for(i.s();!(s=i.n()).done;)u=s.value,c.push(Object(S.a)(Object(S.a)({},u.data()),{},{key:u.id}))}catch(d){i.e(d)}finally{i.f()}c.sort((function(e,t){return e.id-t.id})),t(V(c)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),t(R(e.t0));case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,a){return e.apply(this,arguments)}}()},Z=function(e){return function(){var t=Object(k.a)(w.a.mark((function t(a,n){var r,c,o,l,i,s,u,d;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().auth.uid,c=n().notes.lastSnapshot,o=n().notes.allNotes,l=[],i=M.collectionGroup("notes").where("uid","==",r).where("type","==",e).orderBy("id","desc").limit(10),c&&(i=i.startAfter(c)),t.next=8,i.get();case 8:s=t.sent,(u=s.docs[s.docs.length-1])&&u.data().id?a(G(u.data().id)):void 0===u&&a(Y(!1)),s.docs.forEach((function(e){l.push(Object(S.a)(Object(S.a)({},e.data()),{},{key:e.id}))})),u&&u.data().id&&(d=o.concat(l),a(B(d)));case 13:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(k.a)(w.a.mark((function t(a,n){var r,c,o,l,i,s,u,d;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=C(n().calendar.selectedDate,""),c=n().notes.itemDate,o=c||r,l=n().auth.uid,i=n().notes.allNotes,t.next=7,M.doc("".concat(l,"/").concat(o,"/notes/").concat(e)).get();case 7:s=t.sent,u=Object(S.a)(Object(S.a)({},s.data()),{},{key:s.id}),d=i.filter((function(e){return(void 0!==s.data()||e.key!==u.key)&&e})).map((function(e){return e.id===u.id?u:e})),e&&a(B(d));case 11:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},X=function(e){return function(){var t=Object(k.a)(w.a.mark((function t(a,n){var r,c,o,l;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().auth.uid,c=n().editor.selectedType,o=n().notes.typePage,l=C(new Date,""),t.prev=4,t.next=7,M.collection("".concat(r,"/").concat(l,"/notes")).add({createdAt:new Date,type:c,date:l,content:e,id:Date.now(),uid:r});case 7:a(Q()),a(B([])),a(G(0)),a(Z(o)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(4),a(R(t.t0));case 16:case"end":return t.stop()}}),t,null,[[4,13]])})));return function(e,a){return t.apply(this,arguments)}}()},z=function(e,t){return function(){var a=Object(k.a)(w.a.mark((function a(n,r){var c,o;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=r().auth.uid,o=r().notes.itemDate,a.prev=2,a.next=5,M.doc("".concat(c,"/").concat(o,"/notes/").concat(t)).update({content:e}).then((function(){n(Q()),n(J(t))}));case 5:a.next=10;break;case 7:a.prev=7,a.t0=a.catch(2),n(R(a.t0));case 10:case"end":return a.stop()}}),a,null,[[2,7]])})));return function(e,t){return a.apply(this,arguments)}}()},q=function(e,t,a){return function(){var t=Object(k.a)(w.a.mark((function t(n,r){var c;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=r().auth.uid,t.prev=1,t.next=4,M.doc("".concat(c,"/").concat(a,"/notes/").concat(e)).delete();case 4:n(Q()),n(J(e)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n(R(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,a){return t.apply(this,arguments)}}()},$={selectedDate:null,todayData:[],loadingData:!0,errorData:null},ee=function(e){return{type:"FETCH_TODAY_NUMBER",payload:e}},te=function(e){return function(){var t=Object(k.a)(w.a.mark((function t(a,n){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"FETCH_DATA_REQUEST"}),a(ee(e)),a(Q());case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_DATA_REQUEST":return Object(S.a)(Object(S.a)({},e),{},{todayData:[],loadingData:!0,errorData:null});case"FETCH_DATA_SUCCESS":return Object(S.a)(Object(S.a)({},e),{},{todayData:t.payload,loadingData:!1,errorData:null});case"FETCH_TODAY_NUMBER":return Object(S.a)(Object(S.a)({},e),{},{selectedDate:t.payload});case"FETCH_DATA_FAILURE":return Object(S.a)(Object(S.a)({},e),{},{todayData:[],loadingData:!1,errorData:t.payload});default:return e}},ne=a(62),re={allActivity:[],loadingActivity:!0,errorActivity:null,todayActivity:[]},ce=function(e){return{type:"FETCH_ACTIVITY_FAILURE",payload:e}},oe=function(){return function(e,t){var a=C(t().calendar.selectedDate,""),n=t().auth.uid;e({type:"FETCH_ACTIVITY_REQUEST"});try{M.collection(n).doc(a).onSnapshot((function(t){t.data()&&e({type:"FETCH_ACTIVITY_TODAY_SUCCESS",payload:t.data().activity})}))}catch(r){e(ce(r))}}},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ACTIVITY_REQUEST":return Object(S.a)(Object(S.a)({},e),{},{todayActivity:[],loadingActivity:!0,errorActivity:null});case"FETCH_ACTIVITY_TODAY_SUCCESS":return Object(S.a)(Object(S.a)({},e),{},{todayActivity:t.payload,loadingActivity:!1,errorActivity:null});case"FETCH_ACTIVITY_SUCCESS":return Object(S.a)(Object(S.a)({},e),{},{allActivity:t.payload,loadingActivity:!1,errorActivity:null});case"FETCH_ACTIVITY_FAILURE":return Object(S.a)(Object(S.a)({},e),{},{todayActivity:[],loadingActivity:!1,errorActivity:t.payload});default:return e}},ie={activeEditor:!1,selectedType:"note",content:"",activeEditorChangeOldContent:!1,activeFillEditor:!0,activeModal:!1,key:""},se=function(e){return{type:"AW/EDITOR/ACTIVE_EDITOR",payload:{activeEditor:e}}},ue=function(e){return{type:"AW/EDITOR/CHANGE_TYPE",payload:{selectedType:e}}},de=function(e){return{type:"AW/EDITOR/CHANGE_CONTENT",payload:{content:e}}},pe=function(e){return{type:"AW/EDITOR/CHANGE_CONTENT_OLD",payload:{activeEditorChangeOldContent:e}}},me=function(e){return{type:"AW/EDITOR/ACTIVE_EDITOR",payload:{activeFillEditor:e}}},fe=function(e){return{type:"AW/EDITOR/ACTIVE_MODAL",payload:{activeModal:e}}},_e=function(e){return{type:"AW/EDITOR/SET_KEY_MESSAGE",payload:{key:e}}},Ee=function(e){return function(){var t=Object(k.a)(w.a.mark((function t(a){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(ue(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ve=function(e){return function(){var t=Object(k.a)(w.a.mark((function t(a){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(de(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},he=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(){var t=Object(k.a)(w.a.mark((function t(a){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(pe(e)),a(se(!1));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},be=function(e){return function(){var t=Object(k.a)(w.a.mark((function t(a){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(me(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ge=function(e){return function(){var t=Object(k.a)(w.a.mark((function t(a){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(fe(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ye=a(67),Ne=a.n(ye),Ae=a(64),Oe=a.n(Ae),Te=function(e){return Object(l.e)(e,l.c)},Ce=function(e){var t=Object(n.useState)(new Date),a=Object(d.a)(t,2),c=a[0],o=a[1],i=Object(s.g)(),u=new Date,O=Object(l.e)((function(e){return e.activity.allActivity})),j=Te((function(e){return e.notes.allNotesMonth})),x=Object(l.d)();Object(n.useEffect)((function(){return x(te()),x(function(){var e=Object(k.a)(w.a.mark((function e(t,a){var n,r,c,o,l,i,s,u;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().auth.uid,r=[],e.prev=2,e.next=5,M.collection(n).get();case 5:e.sent.forEach((function(e){r.push(e.id)})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:e.prev=12,c=[],o=0;case 15:if(!(o<r.length)){e.next=24;break}return e.next=18,M.collection("".concat(n,"/").concat(r[o],"/notes")).get();case 18:l=e.sent,i=Object(D.a)(l.docs);try{for(i.s();!(s=i.n()).done;)u=s.value,c.push(Object(S.a)(Object(S.a)({},u.data()),{},{key:u.id}))}catch(d){i.e(d)}finally{i.f()}case 21:o++,e.next=15;break;case 24:t(L(c)),e.next=30;break;case 27:e.prev=27,e.t1=e.catch(12),console.log(e.t1);case 30:case"end":return e.stop()}}),e,null,[[2,9],[12,27]])})));return function(t,a){return e.apply(this,arguments)}}()),x((function(e,t){var a=t().auth.uid;try{M.collection(a).onSnapshot((function(t){var a=[];t.forEach((function(e){a.push(Object(ne.a)({},e.id,e.data()))})),e(function(e){return{type:"FETCH_ACTIVITY_SUCCESS",payload:e}}(a))}))}catch(n){e(ce(n))}}))}),[x]);var U=function(){o(Object(y.a)(c,1))},W=function(){o(Object(N.a)(c,1))};return r.a.createElement("div",{className:"".concat(T.a.calendar)},r.a.createElement("div",{className:"".concat(T.a.header," ").concat(T.a.row)},r.a.createElement("div",{className:"".concat(T.a.col," ").concat(T.a.colStart)},r.a.createElement("div",{className:"".concat(T.a.icon),onClick:W},"chevron_left")),r.a.createElement("div",{className:"".concat(T.a.col,"  ").concat(T.a.colCenter)},r.a.createElement("span",null,Object(p.a)(c,"LLLL yyyy",{locale:A.a}))),r.a.createElement("div",{className:"".concat(T.a.col," ").concat(T.a.colEnd),onClick:U},r.a.createElement("div",{className:"".concat(T.a.icon)},"chevron_right"))),function(){for(var e=[],t=Object(m.a)(c,{weekStartsOn:1}),a=0;a<7;a++){var n=Object(p.a)(Object(f.a)(t,a),"EEEE",{locale:A.a});e.push(r.a.createElement("div",{className:"".concat(T.a.col," ").concat(T.a.colCenter," "),key:a},n))}return r.a.createElement("div",{className:"".concat(T.a.days," ").concat(T.a.row)},e)}(),function(){for(var e=Object(_.a)(c),t=Object(E.a)(e),a=Object(m.a)(e,{weekStartsOn:1}),n=Object(v.a)(t),o=[],l=[],s=a,d="";s<=n;){for(var y=function(t){d=Object(p.a)(s,"d");var a=s,n=a.getFullYear(),c=a.getMonth()+1,o=a.getDate(),m=O.map((function(e){return Object.keys(e).map((function(t){if(t==="".concat(o).concat(c).concat(n)){var a=e[t].activity.includes("Meditation")?r.a.createElement(Oe.a,{className:T.a.activity,style:{color:"#F6A4D5"}}):null,l=e[t].activity.includes("Yoga")?r.a.createElement(Ne.a,{style:{color:"#F6A4D5"}}):null;return r.a.createElement("div",{key:t,className:"".concat(T.a.allActivity)},r.a.createElement("span",{className:T.a.activity},a),r.a.createElement("span",{className:T.a.activity},l))}}))})),_=j.filter((function(e){if(e.date==="".concat(o).concat(c).concat(n)&&"note"===e.type)return e})),E=j.filter((function(e){if(e.date==="".concat(o).concat(c).concat(n)&&"string"===typeof e.content&&"awareness"===e.type)return e}));l.push(r.a.createElement("div",{className:"".concat(T.a.col," ").concat(T.a.cell,"\n              ").concat(Object(h.a)(s,e)?Object(b.a)(s,u)?"selected ".concat(T.a.selected):"":"disabled ".concat(T.a.disabled),"\n              ").concat(Object(g.a)(s)?"disabled ".concat(T.a.disabled):"","\n            "),key:s,onClick:function(){return function(e){i.push("/day/".concat(C(e))),x(te(e)),x(he(!1)),x(ve("")),x(be(!0))}(a)}},r.a.createElement("span",{className:"".concat(T.a.number)},d),r.a.createElement("span",{className:"".concat(T.a.activities)},m),0!==_.length?r.a.createElement("span",{className:"".concat(T.a.notesToday)},"N: ",_.length):null,0!==E.length?r.a.createElement("span",{className:"".concat(T.a.awarenesToday)},"A: ",E.length):null,r.a.createElement("span",{className:"".concat(T.a.bg)},d))),s=Object(f.a)(s,1)},N=0;N<7;N++)y();o.push(r.a.createElement("div",{className:"".concat(T.a.row),key:s},l)),l=[]}return r.a.createElement("div",{className:"".concat(T.a.body)},o)}())},je=function(e){return r.a.createElement("div",null,r.a.createElement("section",null,r.a.createElement(Ce,e)))};function we(e,t){return W().createUserWithEmailAndPassword(e,t)}function ke(e,t){return W().signInWithEmailAndPassword(e,t)}function Se(){var e=new W.GoogleAuthProvider;return W().signInWithPopup(e)}var De=a(20),xe=a.n(De),Ue=a(68),We=a.n(Ue),Me=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),l=Object(d.a)(o,2),s=l[0],u=l[1],p=Object(n.useState)(""),m=Object(d.a)(p,2),f=m[0],_=m[1],E=function(){var e=Object(k.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c(""),e.prev=2,e.next=5,ke(s,f);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),c(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(k.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Se();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),c(e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"container ".concat(xe.a.wrapper)},r.a.createElement("form",{className:"mt-5 py-5 px-5 ".concat(xe.a.form_box),autoComplete:"off",onSubmit:E},r.a.createElement("h1",{className:xe.a.header_block},"\u0412\u043e\u0439\u0442\u0438 \u0432",r.a.createElement(i.b,{className:"".concat(xe.a.title," ml-2"),to:"/"},"Awiary")),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",placeholder:"Email",name:"email",type:"email",onChange:function(e){u(e.target.value)},value:s})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",placeholder:"Password",name:"password",onChange:function(e){_(e.target.value)},value:f,type:"password"})),r.a.createElement("div",{className:"form-group"},a?r.a.createElement("p",{className:"text-danger"},a):null,r.a.createElement("button",{className:"".concat(xe.a.submit," btn btn-primary px-5"),type:"submit"},"\u0412\u043e\u0439\u0442\u0438")),r.a.createElement("div",{className:xe.a.signGoogle},r.a.createElement("p",null,"\u0412\u044b \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0447\u0435\u0440\u0435\u0437 Google \u0430\u043a\u043a\u0430\u0443\u043d\u0442"),r.a.createElement("button",{className:"btn btn-danger mr-2",type:"button",onClick:v},r.a.createElement("img",{src:We.a,alt:"Google"}))),r.a.createElement("p",null,r.a.createElement(i.b,{className:xe.a.signup,to:"/signup"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"))))},Fe=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),l=Object(d.a)(o,2),s=l[0],u=l[1],p=Object(n.useState)(""),m=Object(d.a)(p,2),f=m[0],_=m[1],E=function(){var e=Object(k.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c(""),e.prev=2,e.next=5,we(s,f);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),c(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(k.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Se();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),c(e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"container ".concat(xe.a.wrapper)},r.a.createElement("form",{className:"mt-5 py-5 px-5 ".concat(xe.a.form_box),autoComplete:"off",onSubmit:E},r.a.createElement("h1",{className:xe.a.header_block},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0432",r.a.createElement(i.b,{className:"".concat(xe.a.title," ml-2"),to:"/"},"Awiary")),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",placeholder:"Email",name:"email",type:"email",onChange:function(e){u(e.target.value)},value:s})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",placeholder:"Password",name:"password",onChange:function(e){_(e.target.value)},value:f,type:"password"})),r.a.createElement("div",{className:"form-group"},a?r.a.createElement("p",{className:"text-danger"},a):null,r.a.createElement("button",{className:"".concat(xe.a.submit," btn btn-primary px-5"),type:"submit"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f")),r.a.createElement("div",{className:xe.a.signGoogle},r.a.createElement("p",null,"\u0412\u044b \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0447\u0435\u0440\u0435\u0437 Google \u0430\u043a\u043a\u0430\u0443\u043d\u0442"),r.a.createElement("button",{className:"btn btn-danger mr-2",type:"button",onClick:v},r.a.createElement("img",{src:We.a,alt:"Google"}))),r.a.createElement("p",null,r.a.createElement(i.b,{className:xe.a.signup,to:"/login"},"\u0412\u043e\u0439\u0442\u0438"))))},Ie=a(223),He=a(224),Re=Object(Ie.a)((function(e){return{root:{display:"flex","& > * + *":{marginLeft:e.spacing(2)}}}})),Ve=function(){var e=Re();return r.a.createElement("div",{className:e.root},r.a.createElement(He.a,null))},Le={uid:"",email:null,displayName:null,photoUrl:null,loading:!0,isAuth:!1},Be=function(e,t,a,n,r,c){return{type:"AW/AUTH/SET_USER_DATA",payload:{uid:e,email:t,displayName:a,photoUrl:n,loading:r,isAuth:c}}},Ge=a(86),Ye=a(107),Pe=a.n(Ye),Ke=a(32),Qe=a.n(Ke),Ze=function(){var e=Object(l.d)(),t=Object(l.e)((function(e){return e.calendar.selectedDate})),a=C(t||new Date,"/"),n=function(t){var a;e((a=t,function(){var e=Object(k.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(K(a)),t(B([])),t(G(0)),t(Z(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))};return r.a.createElement("header",null,r.a.createElement("div",{className:Qe.a.headerContainer},r.a.createElement("div",{className:Qe.a.headerLogo},r.a.createElement(i.b,{to:"/"},"Awiary")),r.a.createElement("div",{className:Qe.a.headerDate},a),r.a.createElement("div",{className:Qe.a.headerNavigationBlock},r.a.createElement("nav",{className:Qe.a.headerNavigation},r.a.createElement(i.b,{className:Qe.a.headerNavigationItem,to:"/"},"\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c"),r.a.createElement(i.b,{className:"".concat(Qe.a.headerNavigationItem," ").concat(Qe.a.headerNavigationItemCenter),to:"/note",onClick:function(){return n("note")}},"\u0417\u0430\u043c\u0435\u0442\u043a\u0438"),r.a.createElement(i.b,{className:Qe.a.headerNavigationItem,to:"/awareness",onClick:function(){return n("awareness")}},"\u041e\u0441\u043e\u0437\u043d\u0430\u043d\u0438\u044f")),r.a.createElement(i.b,{onClick:function(){return e(function(){var e=Object(k.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:W().signOut().then((function(){t(Be("",null,null,null,!1,!1))})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},className:Qe.a.headerLogout,to:"/"},r.a.createElement("img",{src:Pe.a,alt:"error icon"})))))},Je=a(23);function Xe(e){var t=e.component,a=e.authenticated,n=Object(Ge.a)(e,["component","authenticated"]),c=Object(Je.a)();return r.a.createElement(s.b,Object.assign({history:c},n,{render:function(e){return!0===a?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ze,null),r.a.createElement(t,e)):r.a.createElement(s.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}function ze(e){var t=e.component,a=e.authenticated,n=Object(Ge.a)(e,["component","authenticated"]);return r.a.createElement(s.b,Object.assign({},n,{render:function(e){return!1===a?r.a.createElement(t,e):r.a.createElement(s.a,{to:"/"})}}))}var qe=a(84),$e=a.n(qe),et=a(229),tt=a(225),at=a(194),nt=function(e){var t=e;t=t&&t.length>0&&(t=t.replace(/<(?:.|\n)*?>/gm,"").replace("&nbsp;","").trim()).length?t.split(/\s+/).length:0},rt=Object(Ie.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),ct=function(){var e=Object(l.d)(),t=Object(l.e)((function(e){return e.editor.activeModal})),a=Object(l.e)((function(e){return e.editor.content})),n=Object(l.e)((function(e){return e.editor.key})),c=rt(),o=function(){var t=Object(k.a)(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("handleEdit"),nt(a),console.log(nt(a)),e(z(a,n)),e(ge(!1)),e(be(!1)),e(he(!1));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i=function(){var t=Object(k.a)(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("handleCreateNote"),nt(a),""!==a&&(e(X(a)),e(ge(!1)),e(he(!1)));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(et.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:c.modal,open:t,onClose:function(){e(ge(!1))},closeAfterTransition:!0,BackdropComponent:tt.a,BackdropProps:{timeout:500}},r.a.createElement(at.a,{in:t},r.a.createElement("div",{className:c.paper},r.a.createElement("h2",{id:"transition-modal-title"},"Transition modal"),r.a.createElement("p",{id:"transition-modal-description"},"react-transition-group animates me."),r.a.createElement("button",{type:"button",onClick:o},"Edit"),r.a.createElement("button",{type:"button",onClick:i},"Create")))))},ot=a(108),lt=a.n(ot),it=(a(147),function(){var e=Te((function(e){return e.editor.content})),t=Te((function(e){return e.editor.activeFillEditor})),a=Object(l.d)(),n=function(e){a(function(e){return function(){var t=Object(k.a)(w.a.mark((function t(a,n){var r;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n().notes.typePage,n().editor.activeEditorChangeOldContent?a(fe(!0)):(a(X(e)),a(fe(!1)),a(pe(!1)),a(Z(r)));case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}(e))};return r.a.createElement(lt.a,{hide:t,setContents:e,onChange:function(e){a(ve(e))},lang:"ru",setOptions:{showPathLabel:!1,maxCharCount:720,width:"100%",height:"auto",minHeight:"100px",maxHeight:"250px",buttonList:[["undo","redo","formatBlock"],["bold","underline","italic","strike"],["fontColor","hiliteColor","outdent","indent","align","horizontalRule","list","table"],["link","image","fullScreen","showBlocks","codeView","preview","print","save"]],callBackSave:function(e){return n(e)}}})}),st=a(109),ut=a.n(st),dt=a(110),pt=a.n(dt),mt=a(111),ft=a.n(mt),_t=a(24),Et=a.n(_t);var vt=function(e){var t=e.note,a=e.previous,c=e.isAll,o=Object(l.d)(),i=new Date;i.setTime(t.id);var s=function(e,t){return!e||!Object(b.a)(1e3*e.createdAt.seconds,1e3*t.createdAt.seconds)}(a,t),u=C(new Date(t.id),"/"),d=Object(n.useCallback)((function(e,t,a,n){var r;o(Ee(a)),o(function(e){return function(){var t=Object(k.a)(w.a.mark((function t(a){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(P(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(n)),o((r=!0,function(){var e=Object(k.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(se(r));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),o(be(!1)),o(ve(e)),o(function(e){return function(){var t=Object(k.a)(w.a.mark((function t(a){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(_e(e)),a(pe(!0));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}),[o]),p=Object(n.useCallback)(function(){var e=Object(k.a)(w.a.mark((function e(t,a,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("removeContent"),o(q(t,0,n));case 2:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),[o]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Et.a.message_item},r.a.createElement("div",{className:"".concat(Et.a.message_item_box," ").concat("note"===t.type?Et.a.class_note:Et.a.class_awareness)},r.a.createElement("span",{className:Et.a.message_time},(0===i.getHours()?"0":"")+i.getHours(),":",(i.getMinutes()<10?"0":"")+i.getMinutes()),r.a.createElement("article",{className:"".concat(Et.a.message_text)},ut()(t.content))),r.a.createElement("div",{className:Et.a.message_remote},r.a.createElement(pt.a,{className:Et.a.message_editor,onClick:function(){return d(t.content,t.key,t.type,t.date)}}),r.a.createElement(ft.a,{className:Et.a.message_remove,onClick:function(){return p(t.key,t.type,t.date)}}))),r.a.createElement("div",{className:Et.a.date_item},c&&s&&u))},ht=function(){var e=Te((function(e){return e.notes.todayNotes})),t=Te((function(e){return e.editor.activeFillEditor}));return r.a.createElement("div",{className:"".concat(Et.a.messages_area," ").concat(t?"":Et.a.messages_area_active_editor," ")},e.map((function(e){return r.a.createElement(vt,{key:e.id,note:e})})))},bt=a(22),gt=a(230),yt=a(226),Nt=a(75),At=a.n(Nt),Ot=function(){var e=Object(l.d)(),t=Te((function(e){return e.editor.selectedType})),a=Te((function(e){return e.editor.activeFillEditor})),c=Object(n.useCallback)((function(t){e(Ee(t)),e(be(!1))}),[e]),o=Object(n.useCallback)((function(t){console.log("handelHideEditor",t),e(be(!0)),e(he(!1)),e(ve(""))}),[e]),i=Object(n.useCallback)((function(){console.log("handelClearEditor"),e(he(!1)),e(ve(""))}),[e]),s=Object(bt.a)((function(e){return{root:{color:e.palette.getContrastText(yt.a[500]),backgroundColor:"note"===t?"#B6A6F7":"default","&:hover":{opacity:"0.8"}}}}))(gt.a),u=Object(bt.a)((function(e){return{root:{color:e.palette.getContrastText(yt.a[500]),backgroundColor:"note"===t?"default":"#F6A4D5","&:hover":{opacity:"0.8"}}}}))(gt.a),d=Object(bt.a)((function(e){return{root:{color:"#4F68A2",backgroundColor:"#ffffff",border:"1px solid #4F68A2","&:hover":{opacity:"0.8"}}}}))(gt.a),p=Object(bt.a)((function(e){return{root:{color:"#4F68A2",backgroundColor:"#ffffff",border:"1px solid #4F68A2","&:hover":{opacity:"0.8"}}}}))(gt.a);return r.a.createElement("div",{className:At.a.editor_panel},r.a.createElement("div",{className:At.a.editor_panel_group},r.a.createElement(s,{variant:"contained",color:"default",onClick:function(){return c("note")}},"\u0417\u0430\u043c\u0435\u0442\u043a\u0430"),r.a.createElement(u,{variant:"contained",color:"default",onClick:function(){return c("awareness")}},"\u041e\u0441\u043e\u0437\u043d\u0430\u043d\u0438\u0435")),!a&&r.a.createElement("div",{className:At.a.editor_panel_group},r.a.createElement(d,{color:"default",onClick:i},"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"),r.a.createElement(p,{color:"default",onClick:o},"\u0421\u043a\u0440\u044b\u0442\u044c")))},Tt=a(112),Ct=a.n(Tt),jt=function(){var e=Te((function(e){return C(e.calendar.selectedDate,"")})),t=C(new Date,""),a=Te((function(e){return e.editor.activeEditor}));return t===e||a?r.a.createElement(r.a.Fragment,null,r.a.createElement(ct,null),r.a.createElement(ht,null),r.a.createElement("div",{className:Ct.a.editor},r.a.createElement(Ot,null),r.a.createElement(it,null))):r.a.createElement(r.a.Fragment,null,r.a.createElement(ct,null),r.a.createElement(ht,null))},wt={thunk:"",thought:"",errorThanks:""},kt=function(e){return{type:"AW/NOTE/FETCH_THANKS_FAILURE",payload:{errorThanks:e}}},St=function(e,t){return{type:"AW/NOTE/FETCH_THANKS_DAY",payload:{thunk:e,thought:t,errorThanks:""}}},Dt=function(){return function(){var e=Object(k.a)(w.a.mark((function e(t,a){var n,r,c,o,l;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=C(a().calendar.selectedDate,""),r=a().auth.uid,e.prev=2,e.next=5,M.collection("".concat(r,"/").concat(n,"/thunks/")).get();case 5:c=e.sent,o="",l="",c.forEach((function(e){"thunks"===e.id&&(o=e.data().content?e.data().content:""),"thought"===e.id&&(l=e.data().content?e.data().content:"")})),t(St(o,l)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),t(kt(e.t0));case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,a){return e.apply(this,arguments)}}()},xt=a(113),Ut=a.n(xt),Wt=a(69),Mt=a(70),Ft=a(73),It=a(71),Ht=a(11),Rt=a.n(Ht),Vt=function(e){Object(Ft.a)(a,e);var t=Object(It.a)(a);function a(){var e;Object(Wt.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={currentMonth:new Date},e.onDateClick=function(t){e.props.history.push("/day/".concat(C(t))),e.props.fetchToDayData(t),e.props.toggleEditorOldContent(!1),e.props.changeEditorContent(""),e.props.toggleActiveFillEditor(!0),e.props.fetchToDayActivity(),e.props.fetchToDayThanks()},e.nextMonth=function(){e.setState({currentMonth:Object(y.a)(e.state.currentMonth,1)})},e.prevMonth=function(){e.setState({currentMonth:Object(N.a)(e.state.currentMonth,1)})},e}return Object(Mt.a)(a,[{key:"renderHeader",value:function(){return r.a.createElement("div",{className:"".concat(Rt.a.header," ").concat(Rt.a.row)},r.a.createElement("div",{className:"".concat(Rt.a.col," ").concat(Rt.a.colStart)},r.a.createElement("div",{className:"".concat(Rt.a.icon),onClick:this.prevMonth},"chevron_left")),r.a.createElement("div",{className:"".concat(Rt.a.col,"  ").concat(Rt.a.colCenter)},r.a.createElement("span",null,Object(p.a)(this.state.currentMonth,"MMMM yyyy",{locale:A.a}))),r.a.createElement("div",{className:"".concat(Rt.a.col," ").concat(Rt.a.colEnd),onClick:this.nextMonth},r.a.createElement("div",{className:"".concat(Rt.a.icon)},"chevron_right")))}},{key:"renderDays",value:function(){for(var e=[],t=Object(m.a)(this.state.currentMonth),a=0;a<7;a++){var n=Object(p.a)(Object(f.a)(t,a),"EEE",{locale:A.a});e.push(r.a.createElement("div",{className:"".concat(Rt.a.col," ").concat(Rt.a.colCenter," ").concat(Rt.a.dayWek),key:a},n))}return r.a.createElement("div",{className:"".concat(Rt.a.days," ").concat(Rt.a.row)},e)}},{key:"renderCells",value:function(){for(var e=this,t=this.state.currentMonth,a=this.props.selectedDate,n=Object(_.a)(t),c=Object(E.a)(n),o=Object(m.a)(n),l=Object(v.a)(c),i=[],s=[],u=o,d="";u<=l;){for(var y=function(t){d=Object(p.a)(u,"d");var c=u;s.push(r.a.createElement("div",{className:"".concat(Rt.a.col," ").concat(Rt.a.cell,"\n              ").concat(Object(h.a)(u,n)?Object(b.a)(u,new Date)?"selected ".concat(Rt.a.selected):"":"disabled ".concat(Rt.a.disabled),"\n              ").concat(Object(b.a)(u,a)?Rt.a.selectedDay:"","\n              ").concat(Object(g.a)(u)?"disabled ".concat(Rt.a.disabled):"","\n            }"),key:u,onClick:function(){return e.onDateClick(c)}},r.a.createElement("span",{className:"".concat(Rt.a.number)},d),r.a.createElement("span",{className:"".concat(Rt.a.bg)}))),u=Object(f.a)(u,1)},N=0;N<7;N++)y();i.push(r.a.createElement("div",{className:"".concat(Rt.a.row),key:u},s)),s=[]}return r.a.createElement("div",{className:"".concat(Rt.a.body)},i)}},{key:"render",value:function(){return r.a.createElement("div",{className:"".concat(Rt.a.calendar)},this.renderHeader(),this.renderDays(),this.renderCells())}}]),a}(r.a.Component),Lt=Object(l.b)((function(e){return{selectedDate:e.calendar.selectedDate}}),{fetchToDayData:te,toggleEditorOldContent:he,changeEditorContent:ve,toggleActiveFillEditor:be,fetchToDayActivity:oe,fetchToDayThanks:Dt})(Object(s.i)(Vt)),Bt=a(114),Gt=a.n(Bt),Yt=a(40),Pt=a.n(Yt),Kt=function(e){var t=e.title,a=e.type,c=e.value,o=e.selectedDate,i=Object(n.useState)(""),s=Object(d.a)(i,2),u=s[0],p=s[1],m=Object(n.useState)(!0),f=Object(d.a)(m,2),_=f[0],E=f[1],v=Object(n.useState)(!1),h=Object(d.a)(v,2),g=h[0],y=h[1],N=Object(l.d)();Object(n.useEffect)((function(){N(Dt()),p(c),E(!c)}),[N,c]);return _&&Object(b.a)(o,new Date)?r.a.createElement("div",{className:Pt.a.blockInput},r.a.createElement("p",{className:Pt.a.inputTitle},t),r.a.createElement("textarea",{className:Pt.a.input,rows:3,value:u,onChange:function(e){p(e.target.value),u!==c&&y(!0)},autoFocus:!0}," "),r.a.createElement(Gt.a,{className:Pt.a.save,onClick:function(){N(function(e,t){return function(){var a=Object(k.a)(w.a.mark((function a(n,r){var c,o,l,i;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c=C(r().calendar.selectedDate,""),o=C(new Date,""),l=r().auth.uid,o===c){a.next=5;break}return a.abrupt("return");case 5:return i=M.collection(l).doc(c).collection("thunks").doc(t),a.prev=6,a.next=9,i.set({content:e});case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(6),n(kt(a.t0));case 14:n(Dt());case 15:case"end":return a.stop()}}),a,null,[[6,11]])})));return function(e,t){return a.apply(this,arguments)}}()}(u,a)),E(!1),y(!1)},style:g?{color:"#3f51b5"}:{color:"#AFBAD1"}})):r.a.createElement("div",{className:Pt.a.blockInput},r.a.createElement("p",{className:Pt.a.inputTitle},t),r.a.createElement("div",{onClick:function(){E(!0)}},r.a.createElement("p",{className:Pt.a.showText},u)))},Qt=a(115),Zt=a.n(Qt),Jt=a(116),Xt=a.n(Jt),zt=a(50),qt=a.n(zt),$t=function(){var e=Object(l.d)(),t=Object(l.e)((function(e){return e.activity.todayActivity})),a=t.includes("Meditation"),c=t.includes("Yoga");Object(n.useEffect)((function(){e(oe())}),[e]);var o=function(a){var n=t.includes(a);e(n?function(e){return function(){var t=Object(k.a)(w.a.mark((function t(a,n){var r,c,o;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=C(n().calendar.selectedDate,""),c=C(new Date,""),o=n().auth.uid,c===r){t.next=5;break}return t.abrupt("return");case 5:return t.prev=5,t.next=8,M.collection(o).doc(r).update({activity:U.a.firestore.FieldValue.arrayRemove(e)});case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(5),a(ce(t.t0));case 13:case"end":return t.stop()}}),t,null,[[5,10]])})));return function(e,a){return t.apply(this,arguments)}}()}(a):function(e){return function(){var t=Object(k.a)(w.a.mark((function t(a,n){var r,c,o,l,i;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=C(n().calendar.selectedDate,""),c=n().activity.todayActivity,o=C(new Date,""),l=n().auth.uid,o===r){t.next=6;break}return t.abrupt("return");case 6:if(i=M.collection(l).doc(r),t.prev=7,!c.length){t.next=13;break}return t.next=11,i.update({activity:U.a.firestore.FieldValue.arrayUnion(e)});case 11:t.next=15;break;case 13:return t.next=15,i.set({activity:U.a.firestore.FieldValue.arrayUnion(e)});case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(7),a(ce(t.t0));case 20:case"end":return t.stop()}}),t,null,[[7,17]])})));return function(e,a){return t.apply(this,arguments)}}()}(a))};return r.a.createElement("div",{className:qt.a.actionBox},r.a.createElement("div",{className:qt.a.actionItem,onClick:function(){return o("Meditation")}},a?r.a.createElement(Oe.a,{style:{color:"#F6A4D5"}}):r.a.createElement(Zt.a,{style:{color:"#AFBAD1"}}),r.a.createElement("p",{className:qt.a.actionText},"Meditation")),r.a.createElement("div",{className:qt.a.actionItem,onClick:function(){return o("Yoga")}},c?r.a.createElement(Ne.a,{style:{color:"#F6A4D5"}}):r.a.createElement(Xt.a,{style:{color:"#AFBAD1"}}),r.a.createElement("p",{className:qt.a.actionText},"Yoga")))},ea=function(){var e=Object(l.e)((function(e){return e.calendar.selectedDate})),t=Object(l.e)((function(e){return e.thunks.thunk})),a=Object(l.e)((function(e){return e.thunks.thought}));return console.log(a),r.a.createElement("div",{className:Ut.a.pageDaySideBar},r.a.createElement(Lt,null),r.a.createElement(Kt,{title:"\u041c\u044b\u0441\u043b\u044c \u0434\u043d\u044f:",type:"thought",value:a,selectedDate:e}),r.a.createElement(Kt,{title:"\u0411\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u043d\u043e\u0441\u0442\u044c:",type:"thunks",value:t,selectedDate:e}),r.a.createElement($t,null))},ta=function(){var e=Object(l.e)((function(e){return e.calendar.selectedDate})),t=Object(l.d)();return Object(n.useEffect)((function(){t(Q()),t(Dt())}),[t]),null===e?r.a.createElement(s.a,{to:"/"}):r.a.createElement("div",{className:$e.a.pageDay},r.a.createElement("div",{className:$e.a.pageDayContent},r.a.createElement(jt,null)),r.a.createElement(ea,null))},aa=a(117),na=a(85),ra=a.n(na),ca=function(){var e=Te((function(e){return e.editor.activeFillEditor})),t=Te((function(e){return e.notes.allNotes})),a=Te((function(e){return e.notes.runOutOfNotes})),c=Object(l.d)(),o=Object(s.h)().pathname.substring(1);return Object(n.useEffect)((function(){c(Q()),c(Dt()),c(Z(o))}),[c,o]),r.a.createElement("div",{className:"".concat(ra.a.messages_area," ").concat(e?"":ra.a.messages_area_active_editor," "),id:"scrollableDiv",style:{overflow:"auto",display:"flex",flexDirection:"column-reverse"}},r.a.createElement(aa.a,{dataLength:t.length,next:function(){return c(Z(o))},style:{display:"flex",flexDirection:"column-reverse"},inverse:!0,hasMore:a,loader:r.a.createElement("h4",null,"Loading..."),scrollableTarget:"scrollableDiv"},t&&t.map((function(e,a){var n=t[a+1];return r.a.createElement(vt,{key:e.key,note:e,previous:n,isAll:!0})}))))},oa=a(57),la=a.n(oa),ia=function(){var e=Te((function(e){return e.editor.activeFillEditor})),t=Object(l.d)();Object(n.useEffect)((function(){t(Q()),t(Dt())}),[t]);var a=Object(n.useCallback)((function(e){t(be(!0)),t(he(!1)),t(ve(""))}),[t]);return r.a.createElement("div",{className:la.a.pageDay},r.a.createElement("div",{className:la.a.pageDayContent},r.a.createElement(ct,null),r.a.createElement(ca,null),r.a.createElement("div",{className:la.a.editor},!e&&r.a.createElement(gt.a,{className:la.a.button,color:"default",onClick:a},"\u0421\u043a\u0440\u044b\u0442\u044c"),r.a.createElement(it,null))),r.a.createElement(ea,null))},sa=a(118),ua=a.n(sa),da=function(e){var t=Object(l.d)();Object(n.useEffect)((function(){t(function(){var e=Object(k.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:W().onAuthStateChanged((function(e){if(e){t(Be(e.uid,e.email,e.displayName,e.photoURL,!1,!0));var a={displayName:e.displayName,photoUrl:e.photoURL,uid:e.uid};M.collection("users").doc(e.uid).set(a,{merge:!0}),I(e)}else t(Be("",null,null,null,!1,!1))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[t]);var a=Object(l.e)((function(e){return e.auth.loading})),c=Object(l.e)((function(e){return e.auth.isAuth}));return!0===a?r.a.createElement(Ve,null):r.a.createElement(u.a,{className:ua.a.container,maxWidth:"xl"},r.a.createElement(s.d,null,r.a.createElement(Xe,Object.assign({exact:!0,path:"/",authenticated:c,component:je},e)),r.a.createElement(Xe,{path:"/note",authenticated:c,component:ia}),r.a.createElement(Xe,{path:"/awareness",authenticated:c,component:ia}),r.a.createElement(Xe,{path:"/day/:dayId?",authenticated:c,component:ta}),r.a.createElement(ze,{path:"/signup",authenticated:c,component:Fe}),r.a.createElement(ze,{path:"/login",authenticated:c,component:Me})))},pa=a(43),ma=a(119),fa=Object(pa.c)({thunks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AW/NOTE/FETCH_THANKS_DAY":case"AW/NOTE/FETCH_THANKS_FAILURE":case"AW/NOTE/REQUEST_THANKS":return Object(S.a)(Object(S.a)({},e),t.payload);default:return e}},activity:le,editor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AW/EDITOR/ACTIVE_EDITOR":case"AW/EDITOR/CHANGE_TYPE":case"AW/EDITOR/CHANGE_CONTENT":case"AW/EDITOR/CHANGE_CONTENT_OLD":case"AW/EDITOR/ACTIVE_MODAL":case"AW/EDITOR/SET_KEY_MESSAGE":return Object(S.a)(Object(S.a)({},e),t.payload);default:return e}},notes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AW/NOTE/FETCH_NOTES_REQUEST":case"AW/NOTE/FETCH_NOTES_FAILURE":case"AW/NOTE/FETCH_NOTES_DAY":case"AW/NOTE/FETCH_NOTES_ALL":case"AW/NOTE/SET_LAST_NOTES":case"AW/NOTE/FINISH_SCROLL_NOTES":case"AW/NOTE/FETCH_NOTES_MONTHS":case"AW/NOTE/SET_DATE_ITEM":case"AW/NOTE/SET_TYPE_PAGE":return Object(S.a)(Object(S.a)({},e),t.payload);default:return e}},calendar:ae,auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AW/AUTH/SET_USER_DATA":return Object(S.a)(Object(S.a)({},e),t.payload);default:return e}}}),_a=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||pa.d,Ea=Object(pa.e)(fa,_a(Object(pa.a)(ma.a))),va=(a(190),a(120)),ha=a.n(va),ba=function(){return r.a.createElement("div",{className:"error-indicator"},r.a.createElement("img",{src:ha.a,alt:"error icon"}),r.a.createElement("span",{className:"boom"},"BOOM!"),r.a.createElement("span",null,"something has gone terribly wrong"),r.a.createElement("span",null,"(but we already sent droids to fix it)"))},ga=function(e){Object(Ft.a)(a,e);var t=Object(It.a)(a);function a(){var e;Object(Wt.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={hasError:!1},e}return Object(Mt.a)(a,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(ba,null):this.props.children}}]),a}(n.Component),ya=r.a.createElement(l.a,{store:Ea},r.a.createElement(ga,null,r.a.createElement(i.a,null,r.a.createElement(da,null))));o.a.render(ya,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},20:function(e,t,a){e.exports={wrapper:"Sign_wrapper__3EkaY",form_box:"Sign_form_box__3olgG",header_block:"Sign_header_block__2KOSb",title:"Sign_title__3Whmr",submit:"Sign_submit__2HMvl",signGoogle:"Sign_signGoogle__3d4RE",signup:"Sign_signup__3lw6m"}},24:function(e,t,a){e.exports={messages_area:"messages_messages_area__uHjwh",messages_area_active_editor:"messages_messages_area_active_editor__3AaQe",message_item:"messages_message_item__1wqm4",class_note:"messages_class_note__1Hz1b",class_awareness:"messages_class_awareness__YgHXB",message_item_box:"messages_message_item_box__1Vmhn",message_time:"messages_message_time__1ejCz",message_text:"messages_message_text__hKe9G",message_remote:"messages_message_remote__t2d8T",message_editor:"messages_message_editor__1YjSC",message_remove:"messages_message_remove__1xnOI",date_item:"messages_date_item__1yJAy"}},32:function(e,t,a){e.exports={headerContainer:"Header_headerContainer__3gK6B",headerLogo:"Header_headerLogo__GipWW",headerDate:"Header_headerDate__2yeKO",headerNavigationBlock:"Header_headerNavigationBlock__2FnCt",headerNavigation:"Header_headerNavigation__3Fhp7",headerNavigationItem:"Header_headerNavigationItem__2d-jf",headerNavigationItemCenter:"Header_headerNavigationItemCenter__1wZob",headerLogout:"Header_headerLogout__3r3J8"}},40:function(e,t,a){e.exports={blockInput:"inputDay_blockInput__k3TF2",inputTitle:"inputDay_inputTitle__au8MJ",input:"inputDay_input__1IRYk",showText:"inputDay_showText__2AOeP",save:"inputDay_save__1vKH6"}},50:function(e,t,a){e.exports={actionBox:"activityEvent_actionBox__sdLCh",actionItem:"activityEvent_actionItem__97kJi",actionText:"activityEvent_actionText__2A6Nc"}},57:function(e,t,a){e.exports={pageDay:"notes_pageDay__KZyLp",pageDayContent:"notes_pageDayContent__ZUsDK",editor:"notes_editor__QlVvK",button:"notes_button__1VbZa"}},68:function(e,t,a){e.exports=a.p+"static/media/google.1acf3b9c.svg"},75:function(e,t,a){e.exports={editor_panel:"editorPanel_editor_panel__2We5s",editor_panel_group:"editorPanel_editor_panel_group__S62-q"}},84:function(e,t,a){e.exports={pageDay:"day_pageDay__2Jgis",pageDayContent:"day_pageDayContent__21BtE",pageDaySideBar:"day_pageDaySideBar__25eC5",Calendar_smile__18_Of:"day_Calendar_smile__18_Of__ORw6-"}},85:function(e,t,a){e.exports={messages_area:"allMessages_messages_area__1fBHj",messages_area_active_editor:"allMessages_messages_area_active_editor__3HGAL",message_item:"allMessages_message_item__3DGGk",class_note:"allMessages_class_note__2eYss",class_awareness:"allMessages_class_awareness__1rKvN",message_item_box:"allMessages_message_item_box__yLO_0",message_time:"allMessages_message_time__E0rh1",message_text:"allMessages_message_text__1WLYW",message_remote:"allMessages_message_remote__3P_Ws",message_editor:"allMessages_message_editor__1DxpD",message_remove:"allMessages_message_remove__1QMlV"}},9:function(e,t,a){e.exports={icon:"Calendar_icon__1VCOU",logo:"Calendar_logo__1vf5l",row:"Calendar_row__12k7n","row-middle":"Calendar_row-middle__cynuY",col:"Calendar_col__dZaRJ",colStart:"Calendar_colStart__1gIv7",colCenter:"Calendar_colCenter__VdiNf",colEnd:"Calendar_colEnd__c2hVI",calendar:"Calendar_calendar__20ymr",header:"Calendar_header__n_t08",days:"Calendar_days__3o9xZ",cell:"Calendar_cell__27Zoq",selected:"Calendar_selected__OM7G1",body:"Calendar_body__35nCY",number:"Calendar_number__10VpR",disabled:"Calendar_disabled__3ygA8",bg:"Calendar_bg__1gMSQ",activities:"Calendar_activities__1_imC",allActivity:"Calendar_allActivity__1_Ucw",activity:"Calendar_activity__sqVRf",notesToday:"Calendar_notesToday__2hpTH",awarenesToday:"Calendar_awarenesToday__38vjY"}}},[[128,1,2]]]);
//# sourceMappingURL=main.cd23cad1.chunk.js.map