(this.webpackJsonpawiary=this.webpackJsonpawiary||[]).push([[0],{104:function(e,t,a){e.exports={spinner:"spiner_spinner__2Qa-P"}},105:function(e,t,a){e.exports=a.p+"static/media/logo.cb130adb.svg"},106:function(e,t,a){e.exports=a.p+"static/media/signOut.05fcdd59.svg"},11:function(e,t,a){e.exports={icon:"sidebarCalendar_icon__3OneK",logo:"sidebarCalendar_logo__U9_xQ",row:"sidebarCalendar_row__1z4xl","row-middle":"sidebarCalendar_row-middle__1zIRu",col:"sidebarCalendar_col__2aYcO",colStart:"sidebarCalendar_colStart__ROUJ2",colCenter:"sidebarCalendar_colCenter__mKAy7",colEnd:"sidebarCalendar_colEnd__3q6ec",calendar:"sidebarCalendar_calendar__2DAvq",header:"sidebarCalendar_header__3j7XO",days:"sidebarCalendar_days__g_P4S",cell:"sidebarCalendar_cell__13At_",selected:"sidebarCalendar_selected__SoXFL",body:"sidebarCalendar_body__2R34t",number:"sidebarCalendar_number__2wxYQ",disabled:"sidebarCalendar_disabled__IAjHI",bg:"sidebarCalendar_bg__1jVXe",selectedDay:"sidebarCalendar_selectedDay__1J9P-"}},111:function(e,t,a){e.exports={editor:"note_editor__3Nu_m"}},112:function(e,t,a){e.exports={pageDaySideBar:"sidebar_pageDaySideBar__25beE"}},119:function(e,t,a){e.exports={container:"App_container__fkyjV",App:"App_App__iePe9","App-logo":"App_App-logo__jXAwo","App-logo-spin":"App_App-logo-spin__3vZlR","App-header":"App_App-header__3d04R","App-link":"App_App-link__3-vbu"}},129:function(e,t,a){e.exports=a(191)},173:function(e,t){},191:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),o=a.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=a(5),l=a(16),i=a(14),u=a(226),d=a(19),p=a(227),m=a(213),_=a(214),f=a(215),v=a(216),E=a(217),h=a(220),b=a(122),y=a(221),g=a(103),O=a(222),N=a(230),A=a(9),T=a.n(A),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=new Date(e);return"".concat(a.getDate()).concat(t).concat(a.getMonth()+1).concat(t).concat(a.getFullYear())},j=a(2),w=a.n(j),k=a(4),D=a(8),x=a(77),S=a(35),I=a.n(S);a(139),a(142),a(144);I.a.initializeApp({apiKey:"AIzaSyAhacW7OM7GWEk3PdBHfPG737Day2m0l7w",authDomain:"awiary.firebaseapp.com",databaseURL:"https://awiary.firebaseio.com",projectId:"awiary",storageBucket:"awiary.appspot.com",messagingSenderId:"423330521559",appId:"423330521559:web:39c2d4dd1a714b498b2b92"});var F=I.a.auth,W=I.a.firestore(),M=I.a.database();function H(e){var t={state:"offline",lastChanged:I.a.database.ServerValue.TIMESTAMP},a={state:"online",lastChanged:I.a.database.ServerValue.TIMESTAMP},n={state:"offline",lastChanged:I.a.firestore.FieldValue.serverTimestamp()},r={state:"online",lastChanged:I.a.firestore.FieldValue.serverTimestamp()},c=M.ref("/status/".concat(e.uid)),o=W.doc("/users/".concat(e.uid));M.ref(".info/connected").on("value",function(){var e=Object(k.a)(w.a.mark((function e(s){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==s.val()){e.next=3;break}return o.update({status:n}),e.abrupt("return");case 3:return e.next=5,c.onDisconnect().set(t);case 5:c.set(a),o.update({status:r});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}var R={allNotes:[],allAwareness:[],allNotesMonth:[],todayNotes:[],loadingNotes:!0,lastSnapshotNote:null,lastSnapshotAware:null,runOutOfNotes:!0,errorNotes:null,content:"",itemDate:"",key:null,dataNewDay:null,typePage:"note"},L=function(e){return{type:"AW/NOTE/FETCH_NOTES_FAILURE",payload:{todayNotes:[],loadingNotes:!1,errorNotes:e}}},Y=function(e){return{type:"AW/NOTE/FETCH_NOTES_DAY",payload:{loadingNotes:!1,errorNotes:null,todayNotes:e}}},U=function(e){return{type:"AW/NOTE/FETCH_NOTES_MONTHS",payload:{loadingNotes:!1,errorNotes:null,allNotesMonth:e}}},V=function(e){return{type:"AW/NOTE/FETCH_NOTES_ALL",payload:{loadingNotes:!1,errorNotes:null,allNotes:e}}},P=function(e){return{type:"AW/NOTE/FETCH_AWARENESS_ALL",payload:{loadingNotes:!1,errorNotes:null,allAwareness:e}}},G=function(e){return{type:"AW/NOTE/SET_LAST_NOTES",payload:{loadingNotes:!1,errorNotes:null,lastSnapshotNote:e}}},B=function(e){return{type:"AW/NOTE/SET_LAST_AWARENESS",payload:{loadingNotes:!1,errorNotes:null,lastSnapshotAware:e}}},K=function(e){return{type:"AW/NOTE/FINISH_SCROLL_NOTES",payload:{loadingNotes:!1,errorNotes:null,runOutOfNotes:e}}},Q=function(e){return{type:"AW/NOTE/SET_DATE_ITEM",payload:{itemDate:e}}},J=function(e){return{type:"AW/NOTE/SET_TYPE_PAGE",payload:{typePage:e}}},q=function(){return{type:"AW/NOTE/LOGOUT_AND_CLEAN",payload:{allNotes:[],allAwareness:[],allNotesMonth:[],todayNotes:[],loadingNotes:!0,lastSnapshotNote:null,lastSnapshotAware:null,runOutOfNotes:!0,errorNotes:null,content:"",itemDate:"",key:null,dataNewDay:null,typePage:"note"}}},z=function(){return function(){var e=Object(k.a)(w.a.mark((function e(t,a){var n,r,c,o,s,l,i,u;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=C(a().calendar.selectedDate,""),r=a().auth.uid,e.prev=2,c=[],o=W.collection("".concat(r,"/").concat(n,"/notes")),e.next=7,o.get();case 7:s=e.sent,l=Object(x.a)(s.docs);try{for(l.s();!(i=l.n()).done;)u=i.value,c.push(Object(D.a)(Object(D.a)({},u.data()),{},{key:u.id}))}catch(d){l.e(d)}finally{l.f()}c.sort((function(e,t){return e.id-t.id})),t(Y(c)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),t(L(e.t0));case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,a){return e.apply(this,arguments)}}()},X=function(e){return function(){var t=Object(k.a)(w.a.mark((function t(a,n){var r,c,o,s,l,i,u,d,p,m,_,f;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().auth.uid,c=n().notes.lastSnapshotNote,o=n().notes.lastSnapshotAware,s="note"===e?c:o,l=n().notes.allNotes,i=n().notes.allAwareness,u="note"===e?l:i,d=[],p=W.collectionGroup("notes").where("uid","==",r).where("type","==",e).orderBy("id","desc").limit(10),s&&(p=p.startAfter(s)),t.next=12,p.get();case 12:m=t.sent,_=m.docs[m.docs.length-1],m.docs.forEach((function(e){d.push(Object(D.a)(Object(D.a)({},e.data()),{},{key:e.id}))})),_&&_.data().id&&(f=u.concat(d),a("note"===e?V(f):P(f)),a("note"===e?G(_.data().id):B(_.data().id))),m&&void 0===_&&a(K(!1));case 17:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(k.a)(w.a.mark((function t(a,n){var r,c,o,s,l,i,u,d,p,m;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=C(n().calendar.selectedDate,""),c=n().notes.itemDate,o=c||r,s=n().auth.uid,l=n().notes.allNotes,i=n().notes.allAwareness,t.next=8,W.doc("".concat(s,"/").concat(o,"/notes/").concat(e)).get();case 8:u=t.sent,d=Object(D.a)(Object(D.a)({},u.data()),{},{key:u.id}),p="note"===d.type?l:i,m=p.filter((function(e){return(void 0!==u.data()||e.key!==d.key)&&e})).map((function(e){return e.id===d.id?d:e})),e&&("note"===d.type?a(V(m)):a(P(m)));case 13:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},$=function(e){return function(){var t=Object(k.a)(w.a.mark((function t(a,n){var r,c,o,s;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().auth.uid,c=n().editor.selectedType,o=n().notes.typePage,s=C(new Date,""),t.prev=4,t.next=7,W.collection("".concat(r,"/").concat(s,"/notes")).add({createdAt:new Date,type:c,date:s,content:e,id:Date.now(),uid:r});case 7:a(z()),a(V([])),a(G(0)),a(X(o)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(4),a(L(t.t0));case 16:case"end":return t.stop()}}),t,null,[[4,13]])})));return function(e,a){return t.apply(this,arguments)}}()},ee=function(e,t){return function(){var a=Object(k.a)(w.a.mark((function a(n,r){var c,o;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=r().auth.uid,o=r().notes.itemDate,a.prev=2,a.next=5,W.doc("".concat(c,"/").concat(o,"/notes/").concat(t)).update({content:e}).then((function(){n(z()),n(Z(t))}));case 5:a.next=10;break;case 7:a.prev=7,a.t0=a.catch(2),n(L(a.t0));case 10:case"end":return a.stop()}}),a,null,[[2,7]])})));return function(e,t){return a.apply(this,arguments)}}()},te=function(e,t,a){return function(){var t=Object(k.a)(w.a.mark((function t(n,r){var c;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=r().auth.uid,t.prev=1,t.next=4,W.doc("".concat(c,"/").concat(a,"/notes/").concat(e)).delete();case 4:n(z()),n(Z(e)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n(L(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,a){return t.apply(this,arguments)}}()},ae={selectedDate:null,todayData:[],loadingData:!0,errorData:null},ne=function(e){return{type:"FETCH_TODAY_NUMBER",payload:e}},re=function(e){return function(){var t=Object(k.a)(w.a.mark((function t(a,n){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"FETCH_DATA_REQUEST"}),a(ne(e)),a(z());case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_DATA_REQUEST":return Object(D.a)(Object(D.a)({},e),{},{todayData:[],loadingData:!0,errorData:null});case"FETCH_DATA_SUCCESS":return Object(D.a)(Object(D.a)({},e),{},{todayData:t.payload,loadingData:!1,errorData:null});case"FETCH_TODAY_NUMBER":return Object(D.a)(Object(D.a)({},e),{},{selectedDate:t.payload});case"FETCH_DATA_FAILURE":return Object(D.a)(Object(D.a)({},e),{},{todayData:[],loadingData:!1,errorData:t.payload});default:return e}},oe=a(62),se={allActivity:[],loadingActivity:!0,errorActivity:null,todayActivity:[]},le=function(){return{type:"AW/ACTIVITY/FETCH_ACTIVITY_REQUEST",payload:{todayActivity:[],loadingActivity:!0,errorActivity:null}}},ie=function(e){return{type:"AW/ACTIVITY/FETCH_ACTIVITY_TODAY_SUCCESS",payload:{todayActivity:e,loadingActivity:!1,errorActivity:null}}},ue=function(e){return{type:"AW/ACTIVITY/FETCH_ACTIVITY_SUCCESS",payload:{allActivity:e,loadingActivity:!1,errorActivity:null}}},de=function(e){return{type:"AW/ACTIVITY/FETCH_ACTIVITY_FAILURE",payload:{todayActivity:[],loadingActivity:!1,errorActivity:e}}},pe=function(){return function(){var e=Object(k.a)(w.a.mark((function e(t,a){var n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=C(a().calendar.selectedDate,""),r=a().auth.uid,t(le());try{W.collection(r).doc(n).onSnapshot(function(){var e=Object(k.a)(w.a.mark((function e(a){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.data();case 2:(n=e.sent)&&t(ie(n.activity));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}catch(c){t(de(c))}case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},me={activeEditor:!1,selectedType:"note",content:"",activeEditorChangeOldContent:!1,activeFillEditor:!0,activeModal:!1,key:""},_e=function(e){return{type:"AW/EDITOR/ACTIVE_EDITOR",payload:{activeEditor:e}}},fe=function(e){return{type:"AW/EDITOR/CHANGE_TYPE",payload:{selectedType:e}}},ve=function(e){return{type:"AW/EDITOR/CHANGE_CONTENT",payload:{content:e}}},Ee=function(e){return{type:"AW/EDITOR/CHANGE_CONTENT_OLD",payload:{activeEditorChangeOldContent:e}}},he=function(e){return{type:"AW/EDITOR/ACTIVE_EDITOR",payload:{activeFillEditor:e}}},be=function(e){return{type:"AW/EDITOR/ACTIVE_MODAL",payload:{activeModal:e}}},ye=function(e){return{type:"AW/EDITOR/SET_KEY_MESSAGE",payload:{key:e}}},ge=function(e){return function(){var t=Object(k.a)(w.a.mark((function t(a){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(fe(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Oe=function(e){return function(){var t=Object(k.a)(w.a.mark((function t(a){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(ve(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Ne=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(){var t=Object(k.a)(w.a.mark((function t(a){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(Ee(e)),a(_e(!1));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Ae=function(e){return function(){var t=Object(k.a)(w.a.mark((function t(a){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(he(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Te=function(e){return function(){var t=Object(k.a)(w.a.mark((function t(a){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(be(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Ce=a(67),je=a.n(Ce),we=a(64),ke=a.n(we),De=function(e){return Object(s.e)(e,s.c)},xe=function(){var e=Object(n.useState)(new Date),t=Object(d.a)(e,2),a=t[0],c=t[1],o=Object(i.g)(),l=new Date,u=De((function(e){return e.active.allActivity})),A=De((function(e){return e.notes.allNotesMonth})),j=Object(s.d)();Object(n.useEffect)((function(){j(re()),j(function(){var e=Object(k.a)(w.a.mark((function e(t,a){var n,r,c,o,s,l,i,u;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().auth.uid,r=[],e.prev=2,e.next=5,W.collection(n).get();case 5:e.sent.forEach((function(e){r.push(e.id)})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:e.prev=12,c=[],o=0;case 15:if(!(o<r.length)){e.next=24;break}return e.next=18,W.collection("".concat(n,"/").concat(r[o],"/notes")).get();case 18:s=e.sent,l=Object(x.a)(s.docs);try{for(l.s();!(i=l.n()).done;)u=i.value,c.push(Object(D.a)(Object(D.a)({},u.data()),{},{key:u.id}))}catch(d){l.e(d)}finally{l.f()}case 21:o++,e.next=15;break;case 24:t(U(c)),e.next=30;break;case 27:e.prev=27,e.t1=e.catch(12),console.log(e.t1);case 30:case"end":return e.stop()}}),e,null,[[2,9],[12,27]])})));return function(t,a){return e.apply(this,arguments)}}()),j(function(){var e=Object(k.a)(w.a.mark((function e(t,a){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a().auth.uid;try{W.collection(n).onSnapshot((function(e){var a=[];e.forEach((function(e){a.push(Object(oe.a)({},e.id,e.data()))})),t(ue(a))}))}catch(r){t(de(r))}case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())}),[j]);var S=function(){c(Object(g.a)(a,1))},I=function(){c(Object(O.a)(a,1))};return r.a.createElement("div",{className:"".concat(T.a.calendar)},r.a.createElement("div",{className:"".concat(T.a.header," ").concat(T.a.row)},r.a.createElement("div",{className:"".concat(T.a.col," ").concat(T.a.colStart)},r.a.createElement("div",{className:"".concat(T.a.icon),onClick:I},"chevron_left")),r.a.createElement("div",{className:"".concat(T.a.col,"  ").concat(T.a.colCenter)},r.a.createElement("span",null,Object(p.a)(a,"LLLL yyyy",{locale:N.a}))),r.a.createElement("div",{className:"".concat(T.a.col," ").concat(T.a.colEnd),onClick:S},r.a.createElement("div",{className:"".concat(T.a.icon)},"chevron_right"))),function(){for(var e=[],t=Object(m.a)(a,{weekStartsOn:1}),n=0;n<7;n++){var c=Object(p.a)(Object(_.a)(t,n),"EEEE",{locale:N.a});e.push(r.a.createElement("div",{className:"".concat(T.a.col," ").concat(T.a.colCenter," "),key:n},c))}return r.a.createElement("div",{className:"".concat(T.a.days," ").concat(T.a.row)},e)}(),function(){for(var e=Object(f.a)(a),t=Object(v.a)(e),n=Object(m.a)(e,{weekStartsOn:1}),c=Object(E.a)(t),s=[],i=[],d=n,g="";d<=c;){for(var O=function(t){g=Object(p.a)(d,"d");var a=d,n=a.getFullYear(),c=a.getMonth()+1,s=a.getDate(),m=u.map((function(e){return Object.keys(e).map((function(t){if(t==="".concat(s).concat(c).concat(n)){var a=e[t].activity.includes("Meditation")?r.a.createElement(ke.a,{className:T.a.activity,style:{color:"#F6A4D5"}}):null,o=e[t].activity.includes("Yoga")?r.a.createElement(je.a,{style:{color:"#F6A4D5"}}):null;return r.a.createElement("div",{key:t,className:"".concat(T.a.allActivity)},r.a.createElement("span",{className:T.a.activity},a),r.a.createElement("span",{className:T.a.activity},o))}return null}))})),f=A.filter((function(e){return e.date==="".concat(s).concat(c).concat(n)&&"note"===e.type&&e})),v=A.filter((function(e){return e.date==="".concat(s).concat(c).concat(n)&&"string"===typeof e.content&&"awareness"===e.type&&e}));i.push(r.a.createElement("div",{className:"".concat(T.a.col," ").concat(T.a.cell,"\n              ").concat(Object(h.a)(d,e)?Object(b.a)(d,l)?"selected ".concat(T.a.selected):"":"disabled ".concat(T.a.disabled),"\n              ").concat(Object(y.a)(d)?"disabled ".concat(T.a.disabled):"","\n            "),key:d.toString(),onClick:function(){return function(e){o.push("/day/".concat(C(e))),j(re(e)),j(Ne(!1)),j(Oe("")),j(Ae(!0))}(a)}},r.a.createElement("span",{className:"".concat(T.a.number)},g),r.a.createElement("span",{className:"".concat(T.a.activities)},m),0!==f.length?r.a.createElement("span",{className:"".concat(T.a.notesToday)},"N: ",f.length):null,0!==v.length?r.a.createElement("span",{className:"".concat(T.a.awarenesToday)},"A: ",v.length):null,r.a.createElement("span",{className:"".concat(T.a.bg)},g))),d=Object(_.a)(d,1)},N=0;N<7;N++)O();s.push(r.a.createElement("div",{className:"".concat(T.a.row),key:d.toString()},i)),i=[]}return r.a.createElement("div",{className:"".concat(T.a.body)},s)}())},Se=function(e){return r.a.createElement("div",null,r.a.createElement("section",null,r.a.createElement(xe,e)))};function Ie(e,t){return F().createUserWithEmailAndPassword(e,t)}function Fe(e,t){return F().signInWithEmailAndPassword(e,t)}function We(){var e=new F.GoogleAuthProvider;return F().signInWithPopup(e)}var Me=a(20),He=a.n(Me),Re=a(68),Le=a.n(Re),Ye=function(){return r.a.createElement("footer",{className:"pt-5"},r.a.createElement("div",{className:"container text-center"},r.a.createElement("p",null,"\xa9 Awiary 2020.")))},Ue=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),s=Object(d.a)(o,2),i=s[0],u=s[1],p=Object(n.useState)(""),m=Object(d.a)(p,2),_=m[0],f=m[1],v=function(){var e=Object(k.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c(""),e.prev=2,e.next=5,Fe(i,_);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),c(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(k.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,We();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),c(e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container ".concat(He.a.wrapper)},r.a.createElement("form",{className:"mt-5 py-5 px-5 ".concat(He.a.form_box),autoComplete:"off",onSubmit:v},r.a.createElement("h1",{className:He.a.header_block},"\u0412\u043e\u0439\u0442\u0438 \u0432",r.a.createElement(l.b,{className:"".concat(He.a.title," ml-2"),to:"/"},"Awiary")),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",placeholder:"Email",name:"email",type:"email",onChange:function(e){u(e.target.value)},value:i})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",placeholder:"Password",name:"password",onChange:function(e){f(e.target.value)},value:_,type:"password"})),r.a.createElement("div",{className:"form-group"},a?r.a.createElement("p",{className:"text-danger"},a):null,r.a.createElement("button",{className:"".concat(He.a.submit," btn btn-primary px-5"),type:"submit"},"\u0412\u043e\u0439\u0442\u0438")),r.a.createElement("div",{className:He.a.signGoogle},r.a.createElement("p",null,"\u0412\u044b \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0447\u0435\u0440\u0435\u0437 Google \u0430\u043a\u043a\u0430\u0443\u043d\u0442"),r.a.createElement("button",{className:"btn btn-danger mr-2",type:"button",onClick:E},r.a.createElement("img",{src:Le.a,alt:"Google"}))),r.a.createElement("p",null,r.a.createElement(l.b,{className:He.a.signup,to:"/signup"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"))),r.a.createElement(Ye,null)))},Ve=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),s=Object(d.a)(o,2),i=s[0],u=s[1],p=Object(n.useState)(""),m=Object(d.a)(p,2),_=m[0],f=m[1],v=function(){var e=Object(k.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c(""),e.prev=2,e.next=5,Ie(i,_);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),c(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(k.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,We();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),c(e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"container ".concat(He.a.wrapper)},r.a.createElement("form",{className:"mt-5 py-5 px-5 ".concat(He.a.form_box),autoComplete:"off",onSubmit:v},r.a.createElement("h1",{className:He.a.header_block},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0432",r.a.createElement(l.b,{className:"".concat(He.a.title," ml-2"),to:"/"},"Awiary")),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",placeholder:"Email",name:"email",type:"email",onChange:function(e){u(e.target.value)},value:i})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",placeholder:"Password",name:"password",onChange:function(e){f(e.target.value)},value:_,type:"password"})),r.a.createElement("div",{className:"form-group"},a?r.a.createElement("p",{className:"text-danger"},a):null,r.a.createElement("button",{className:"".concat(He.a.submit," btn btn-primary px-5"),type:"submit"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f")),r.a.createElement("div",{className:He.a.signGoogle},r.a.createElement("p",null,"\u0412\u044b \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0447\u0435\u0440\u0435\u0437 Google \u0430\u043a\u043a\u0430\u0443\u043d\u0442"),r.a.createElement("button",{className:"btn btn-danger mr-2",type:"button",onClick:E},r.a.createElement("img",{src:Le.a,alt:"Google"}))),r.a.createElement("p",null,r.a.createElement(l.b,{className:He.a.signup,to:"/login"},"\u0412\u043e\u0439\u0442\u0438"))))},Pe=a(223),Ge=a(104),Be=a.n(Ge),Ke=function(){return r.a.createElement("div",{className:Be.a.spinner},r.a.createElement(Pe.a,null))},Qe={uid:"",email:null,displayName:null,photoUrl:null,loading:!0,isAuth:!1},Je=function(e,t,a,n,r,c){return{type:"AW/AUTH/SET_USER_DATA",payload:{uid:e,email:t,displayName:a,photoUrl:n,loading:r,isAuth:c}}},qe=a(82),ze=a(24),Xe=a(105),Ze=a.n(Xe),$e=a(106),et=a.n($e),tt=a(32),at=a.n(tt),nt=function(){var e=Object(s.d)(),t=Object(s.e)((function(e){return e.calendar.selectedDate})),a=C(t||new Date,"/"),n=function(t){var a;e((a=t,function(){var e=Object(k.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(J(a)),t(X(a)),t(K(!0));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))};return r.a.createElement("header",null,r.a.createElement("div",{className:at.a.headerContainer},r.a.createElement("div",{className:at.a.headerLogo},r.a.createElement(l.b,{to:"/"},r.a.createElement("img",{className:at.a.logo,src:Ze.a,alt:"Awiary"}))),r.a.createElement("div",{className:at.a.headerDate},a),r.a.createElement("div",{className:at.a.headerNavigationBlock},r.a.createElement("nav",{className:at.a.headerNavigation},r.a.createElement(l.b,{className:at.a.headerNavigationItem,to:"/"},"\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c"),r.a.createElement(l.b,{className:"".concat(at.a.headerNavigationItem," ").concat(at.a.headerNavigationItemCenter),to:"/note",onClick:function(){return n("note")}},"\u0417\u0430\u043c\u0435\u0442\u043a\u0438"),r.a.createElement(l.b,{className:at.a.headerNavigationItem,to:"/awareness",onClick:function(){return n("awareness")}},"\u041e\u0441\u043e\u0437\u043d\u0430\u043d\u0438\u044f")),r.a.createElement(l.b,{onClick:function(){return e(function(){var e=Object(k.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:F().signOut().then((function(){t(Je("",null,null,null,!1,!1)),t(function(){var e=Object(k.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(q());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},className:at.a.headerLogout,to:"/"},r.a.createElement("img",{src:et.a,alt:"error icon"})))))};function rt(e){var t=e.component,a=e.authenticated,n=Object(qe.a)(e,["component","authenticated"]),c=Object(ze.a)();return r.a.createElement(i.b,Object.assign({history:c},n,{render:function(e){return!0===a?r.a.createElement(r.a.Fragment,null,r.a.createElement(nt,null),r.a.createElement(t,e)):r.a.createElement(i.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}function ct(e){var t=e.component,a=e.authenticated,n=Object(qe.a)(e,["component","authenticated"]);return r.a.createElement(i.b,Object.assign({},n,{render:function(e){return!1===a?r.a.createElement(t,e):r.a.createElement(i.a,{to:"/"})}}))}var ot=a(80),st=a.n(ot),lt=a(228),it=a(224),ut=a(193),dt=a(229),pt=function(e){var t=e;t=t&&t.length>0&&(t=t.replace(/<(?:.|\n)*?>/gm,"").replace("&nbsp;","").trim()).length?t.split(/\s+/).length:0},mt=a(81),_t=a.n(mt),ft=function(){var e=Object(s.d)(),t=Object(s.e)((function(e){return e.editor.activeModal})),a=Object(s.e)((function(e){return e.editor.content})),n=Object(s.e)((function(e){return e.editor.key})),c=function(){var t=Object(k.a)(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:pt(a),e(ee(a,n)),e(Te(!1)),e(Ae(!1)),e(Ne(!1));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o=function(){var t=Object(k.a)(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:pt(a),""!==a&&(e($(a)),e(Te(!1)),e(Ne(!1)));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(lt.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:_t.a.modal,open:t,onClose:function(){e(Te(!1))},closeAfterTransition:!0,BackdropComponent:it.a,BackdropProps:{timeout:500}},r.a.createElement(ut.a,{in:t},r.a.createElement("div",{className:_t.a.paper},r.a.createElement("h2",{id:"transition-modal-title"},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435"),r.a.createElement("p",{id:"transition-modal-description"},"\u041a\u0430\u043a\u0438\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u0434\u0435\u043b\u0430\u0442\u044c"),r.a.createElement("div",{className:"buttonGroup"},r.a.createElement(dt.a,{variant:"contained",color:"primary",onClick:c},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"),r.a.createElement(dt.a,{variant:"contained",color:"default",onClick:o},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439"))))))},vt=a(107),Et=a.n(vt),ht=(a(148),function(){var e=De((function(e){return e.editor.content})),t=De((function(e){return e.editor.activeFillEditor})),a=Object(s.d)(),n=function(e){a(function(e){return function(){var t=Object(k.a)(w.a.mark((function t(a,n){var r;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n().notes.typePage,n().editor.activeEditorChangeOldContent?a(be(!0)):(a($(e)),a(be(!1)),a(Ee(!1)),a(X(r)));case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}(e))};return r.a.createElement(Et.a,{hide:t,setContents:e,onChange:function(e){a(Oe(e))},lang:"ru",setOptions:{showPathLabel:!1,maxCharCount:720,width:"100%",height:"auto",minHeight:"100px",maxHeight:"250px",buttonList:[["undo","redo","formatBlock"],["bold","underline","italic","strike"],["fontColor","hiliteColor","outdent","indent","align","horizontalRule","list","table"],["link","image","fullScreen","showBlocks","codeView","preview","print","save"]],callBackSave:function(e){return n(e)}}})}),bt=a(108),yt=a.n(bt),gt=a(109),Ot=a.n(gt),Nt=a(110),At=a.n(Nt),Tt=a(22),Ct=a.n(Tt);var jt=function(e){var t=e.note,a=e.previous,c=e.isAll,o=Object(s.d)(),l=new Date;l.setTime(t.id);var i=function(e,t){return!e||!Object(b.a)(1e3*e.createdAt.seconds,1e3*t.createdAt.seconds)}(a,t),u=C(new Date(t.id),"/"),d=Object(n.useCallback)((function(e,t,a,n){var r;o(ge(a)),o(function(e){return function(){var t=Object(k.a)(w.a.mark((function t(a){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(Q(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(n)),o((r=!0,function(){var e=Object(k.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(_e(r));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),o(Ae(!1)),o(Oe(e)),o(function(e){return function(){var t=Object(k.a)(w.a.mark((function t(a){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(ye(e)),a(Ee(!0));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}),[o]),p=Object(n.useCallback)(function(){var e=Object(k.a)(w.a.mark((function e(t,a,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(te(t,0,n));case 1:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),[o]),m=r.a.createElement("div",{className:Ct.a.date_item},u);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Ct.a.message_item},r.a.createElement("div",{className:"".concat(Ct.a.message_item_box," ").concat("note"===t.type?Ct.a.class_note:Ct.a.class_awareness)},r.a.createElement("span",{className:Ct.a.message_time},(0===l.getHours()?"0":"")+l.getHours(),":",(l.getMinutes()<10?"0":"")+l.getMinutes()),r.a.createElement("article",{className:"".concat(Ct.a.message_text)},yt()(t.content))),r.a.createElement("div",{className:Ct.a.message_remote},r.a.createElement(Ot.a,{className:Ct.a.message_editor,onClick:function(){return d(t.content,t.key,t.type,t.date)}}),r.a.createElement(At.a,{className:Ct.a.message_remove,onClick:function(){return p(t.key,t.type,t.date)}}))),r.a.createElement("div",{className:Ct.a.date_item_container},c&&i&&m))},wt=function(){var e=De((function(e){return e.notes.todayNotes})),t=De((function(e){return e.editor.activeFillEditor}));return r.a.createElement("div",{className:"".concat(Ct.a.messages_area," ").concat(t?"":Ct.a.messages_area_active_editor," ")},e.map((function(e){return r.a.createElement(jt,{key:e.id,note:e})})))},kt=a(23),Dt=a(225),xt=a(72),St=a.n(xt),It=function(){var e=Object(s.d)(),t=De((function(e){return e.editor.selectedType})),a=De((function(e){return e.editor.activeFillEditor})),c=Object(n.useCallback)((function(t){e(ge(t)),e(Ae(!1))}),[e]),o=Object(n.useCallback)((function(t){e(Ae(!0)),e(Ne(!1)),e(Oe(""))}),[e]),l=Object(n.useCallback)((function(){e(Ne(!1)),e(Oe(""))}),[e]),i=Object(kt.a)((function(e){return{root:{color:e.palette.getContrastText(Dt.a[500]),backgroundColor:"note"===t?"#B6A6F7":"default","&:hover":{opacity:"0.8"}}}}))(dt.a),u=Object(kt.a)((function(e){return{root:{color:e.palette.getContrastText(Dt.a[500]),backgroundColor:"note"===t?"default":"#F6A4D5","&:hover":{opacity:"0.8"}}}}))(dt.a),d=Object(kt.a)((function(e){return{root:{color:"#4F68A2",backgroundColor:"#ffffff",border:"1px solid #4F68A2","&:hover":{opacity:"0.8"}}}}))(dt.a),p=Object(kt.a)((function(e){return{root:{color:"#4F68A2",backgroundColor:"#ffffff",border:"1px solid #4F68A2","&:hover":{opacity:"0.8"}}}}))(dt.a);return r.a.createElement("div",{className:St.a.editor_panel},r.a.createElement("div",{className:St.a.editor_panel_group},r.a.createElement(i,{variant:"contained",color:"default",onClick:function(){return c("note")}},"\u0417\u0430\u043c\u0435\u0442\u043a\u0430"),r.a.createElement(u,{variant:"contained",color:"default",onClick:function(){return c("awareness")}},"\u041e\u0441\u043e\u0437\u043d\u0430\u043d\u0438\u0435")),!a&&r.a.createElement("div",{className:St.a.editor_panel_group},r.a.createElement(d,{color:"default",onClick:l},"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"),r.a.createElement(p,{color:"default",onClick:o},"\u0421\u043a\u0440\u044b\u0442\u044c")))},Ft=a(111),Wt=a.n(Ft),Mt=function(){var e=De((function(e){return C(e.calendar.selectedDate,"")})),t=C(new Date,""),a=De((function(e){return e.editor.activeEditor}));return t===e||a?r.a.createElement(r.a.Fragment,null,r.a.createElement(ft,null),r.a.createElement(wt,null),r.a.createElement("div",{className:Wt.a.editor},r.a.createElement(It,null),r.a.createElement(ht,null))):r.a.createElement(r.a.Fragment,null,r.a.createElement(ft,null),r.a.createElement(wt,null))},Ht={thunk:"",thought:"",errorThanks:""},Rt=function(e){return{type:"AW/NOTE/FETCH_THANKS_FAILURE",payload:{errorThanks:e}}},Lt=function(e,t){return{type:"AW/NOTE/FETCH_THANKS_DAY",payload:{thunk:e,thought:t,errorThanks:""}}},Yt=function(){return function(){var e=Object(k.a)(w.a.mark((function e(t,a){var n,r,c,o,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=C(a().calendar.selectedDate,""),r=a().auth.uid,e.prev=2,e.next=5,W.collection("".concat(r,"/").concat(n,"/thunks/")).get();case 5:c=e.sent,o="",s="",c.forEach((function(e){"thunks"===e.id&&(o=e.data().content?e.data().content:""),"thought"===e.id&&(s=e.data().content?e.data().content:"")})),t(Lt(o,s)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),t(Rt(e.t0));case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,a){return e.apply(this,arguments)}}()},Ut=a(112),Vt=a.n(Ut),Pt=a(113),Gt=a(114),Bt=a(123),Kt=a(121),Qt=a(11),Jt=a.n(Qt),qt=function(e){Object(Bt.a)(a,e);var t=Object(Kt.a)(a);function a(){var e;Object(Pt.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={currentMonth:new Date},e.onDateClick=function(t){e.props.history.push("/day/".concat(C(t))),e.props.fetchToDayData(t),e.props.toggleEditorOldContent(!1),e.props.changeEditorContent(""),e.props.toggleActiveFillEditor(!0),e.props.fetchToDayActivity(),e.props.fetchToDayThanks()},e.nextMonth=function(){e.setState({currentMonth:Object(g.a)(e.state.currentMonth,1)})},e.prevMonth=function(){e.setState({currentMonth:Object(O.a)(e.state.currentMonth,1)})},e}return Object(Gt.a)(a,[{key:"renderHeader",value:function(){return r.a.createElement("div",{className:"".concat(Jt.a.header," ").concat(Jt.a.row)},r.a.createElement("div",{className:"".concat(Jt.a.col," ").concat(Jt.a.colStart)},r.a.createElement("div",{className:"".concat(Jt.a.icon),onClick:this.prevMonth},"chevron_left")),r.a.createElement("div",{className:"".concat(Jt.a.col,"  ").concat(Jt.a.colCenter)},r.a.createElement("span",null,Object(p.a)(this.state.currentMonth,"MMMM yyyy",{locale:N.a}))),r.a.createElement("div",{className:"".concat(Jt.a.col," ").concat(Jt.a.colEnd),onClick:this.nextMonth},r.a.createElement("div",{className:"".concat(Jt.a.icon)},"chevron_right")))}},{key:"renderDays",value:function(){for(var e=[],t=Object(m.a)(this.state.currentMonth),a=0;a<7;a++){var n=Object(p.a)(Object(_.a)(t,a),"EEE",{locale:N.a});e.push(r.a.createElement("div",{className:"".concat(Jt.a.col," ").concat(Jt.a.colCenter," ").concat(Jt.a.dayWek),key:a},n))}return r.a.createElement("div",{className:"".concat(Jt.a.days," ").concat(Jt.a.row)},e)}},{key:"renderCells",value:function(){for(var e=this,t=this.state.currentMonth,a=this.props.selectedDate,n=Object(f.a)(t),c=Object(v.a)(n),o=Object(m.a)(n),s=Object(E.a)(c),l=[],i=[],u=o,d="";u<=s;){for(var g=function(t){d=Object(p.a)(u,"d");var c=u;i.push(r.a.createElement("div",{className:"".concat(Jt.a.col," ").concat(Jt.a.cell,"\n              ").concat(Object(h.a)(u,n)?Object(b.a)(u,new Date)?"selected ".concat(Jt.a.selected):"":"disabled ".concat(Jt.a.disabled),"\n              ").concat(Object(b.a)(u,a)?Jt.a.selectedDay:"","\n              ").concat(Object(y.a)(u)?"disabled ".concat(Jt.a.disabled):"","\n            }"),key:u,onClick:function(){return e.onDateClick(c)}},r.a.createElement("span",{className:"".concat(Jt.a.number)},d),r.a.createElement("span",{className:"".concat(Jt.a.bg)}))),u=Object(_.a)(u,1)},O=0;O<7;O++)g();l.push(r.a.createElement("div",{className:"".concat(Jt.a.row),key:u},i)),i=[]}return r.a.createElement("div",{className:"".concat(Jt.a.body)},l)}},{key:"render",value:function(){return r.a.createElement("div",{className:"".concat(Jt.a.calendar)},this.renderHeader(),this.renderDays(),this.renderCells())}}]),a}(r.a.Component),zt=Object(s.b)((function(e){return{selectedDate:e.calendar.selectedDate}}),{fetchToDayData:re,toggleEditorOldContent:Ne,changeEditorContent:Oe,toggleActiveFillEditor:Ae,fetchToDayActivity:pe,fetchToDayThanks:Yt})(Object(i.i)(qt)),Xt=a(115),Zt=a.n(Xt),$t=a(40),ea=a.n($t),ta=function(e){var t=e.title,a=e.type,c=e.value,o=e.selectedDate,l=Object(n.useState)(""),i=Object(d.a)(l,2),u=i[0],p=i[1],m=Object(n.useState)(!0),_=Object(d.a)(m,2),f=_[0],v=_[1],E=Object(n.useState)(!1),h=Object(d.a)(E,2),y=h[0],g=h[1],O=Object(s.d)();Object(n.useEffect)((function(){O(Yt()),p(c),v(!c)}),[O,c]);return f&&Object(b.a)(o,new Date)?r.a.createElement("div",{className:ea.a.blockInput},r.a.createElement("p",{className:ea.a.inputTitle},t),r.a.createElement("textarea",{className:ea.a.input,rows:3,value:u,onChange:function(e){p(e.target.value),u!==c&&g(!0)},autoFocus:!0}," "),r.a.createElement(Zt.a,{className:ea.a.save,onClick:function(){O(function(e,t){return function(){var a=Object(k.a)(w.a.mark((function a(n,r){var c,o,s,l;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c=C(r().calendar.selectedDate,""),o=C(new Date,""),s=r().auth.uid,o===c){a.next=5;break}return a.abrupt("return");case 5:return l=W.collection(s).doc(c).collection("thunks").doc(t),a.prev=6,a.next=9,l.set({content:e});case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(6),n(Rt(a.t0));case 14:n(Yt());case 15:case"end":return a.stop()}}),a,null,[[6,11]])})));return function(e,t){return a.apply(this,arguments)}}()}(u,a)),v(!1),g(!1)},style:y?{color:"#3f51b5"}:{color:"#AFBAD1"}})):r.a.createElement("div",{className:ea.a.blockInput},r.a.createElement("p",{className:ea.a.inputTitle},t),r.a.createElement("div",{onClick:function(){v(!0)}},r.a.createElement("p",{className:ea.a.showText},u)))},aa=a(116),na=a.n(aa),ra=a(117),ca=a.n(ra),oa=a(49),sa=a.n(oa),la=function(){var e=Object(s.d)(),t=Object(s.e)((function(e){return e.active.todayActivity})),a=t&&t.includes("Meditation"),c=t&&t.includes("Yoga");Object(n.useEffect)((function(){e(pe())}),[e]);var o=function(a){var n=t.includes(a);e(n?function(e){return function(){var t=Object(k.a)(w.a.mark((function t(a,n){var r,c,o;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=C(n().calendar.selectedDate,""),c=C(new Date,""),o=n().auth.uid,c===r){t.next=5;break}return t.abrupt("return");case 5:return t.prev=5,t.next=8,W.collection(o).doc(r).update({activity:I.a.firestore.FieldValue.arrayRemove(e)});case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(5),a(de(t.t0));case 13:case"end":return t.stop()}}),t,null,[[5,10]])})));return function(e,a){return t.apply(this,arguments)}}()}(a):function(e){return function(){var t=Object(k.a)(w.a.mark((function t(a,n){var r,c,o,s,l;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=C(n().calendar.selectedDate,""),c=n().active,o=C(new Date,""),s=n().auth.uid,o===r){t.next=6;break}return t.abrupt("return");case 6:if(l=W.collection(s).doc(r),t.prev=7,!c.todayActivity.length){t.next=13;break}return t.next=11,l.update({activity:I.a.firestore.FieldValue.arrayUnion(e)});case 11:t.next=15;break;case 13:return t.next=15,l.set({activity:I.a.firestore.FieldValue.arrayUnion(e)});case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(7),a(de(t.t0));case 20:case"end":return t.stop()}}),t,null,[[7,17]])})));return function(e,a){return t.apply(this,arguments)}}()}(a))};return r.a.createElement("div",{className:sa.a.actionBox},r.a.createElement("div",{className:sa.a.actionItem,onClick:function(){return o("Meditation")}},a?r.a.createElement(ke.a,{style:{color:"#F6A4D5"}}):r.a.createElement(na.a,{style:{color:"#AFBAD1"}}),r.a.createElement("p",{className:sa.a.actionText},"Meditation")),r.a.createElement("div",{className:sa.a.actionItem,onClick:function(){return o("Yoga")}},c?r.a.createElement(je.a,{style:{color:"#F6A4D5"}}):r.a.createElement(ca.a,{style:{color:"#AFBAD1"}}),r.a.createElement("p",{className:sa.a.actionText},"Yoga")))},ia=function(){var e=Object(s.e)((function(e){return e.calendar.selectedDate})),t=Object(s.e)((function(e){return e.thunks.thunk})),a=Object(s.e)((function(e){return e.thunks.thought}));return r.a.createElement("div",{className:Vt.a.pageDaySideBar},r.a.createElement(zt,null),r.a.createElement(ta,{title:"\u041c\u044b\u0441\u043b\u044c \u0434\u043d\u044f:",type:"thought",value:a,selectedDate:e}),r.a.createElement(ta,{title:"\u0411\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u043d\u043e\u0441\u0442\u044c:",type:"thunks",value:t,selectedDate:e}),r.a.createElement(la,null))},ua=function(){var e=Object(s.e)((function(e){return e.calendar.selectedDate})),t=Object(s.d)();return Object(n.useEffect)((function(){t(z()),t(Yt())}),[t]),null===e?r.a.createElement(i.a,{to:"/"}):r.a.createElement("div",{className:st.a.pageDay},r.a.createElement("div",{className:st.a.pageDayContent},r.a.createElement(Mt,null)),r.a.createElement(ia,null))},da=a(118),pa=a(56),ma=a.n(pa),_a=function(e){var t=Object(n.useState)(!0),a=Object(d.a)(t,2),c=a[0],o=a[1],l=De((function(e){return e.editor.activeFillEditor})),u=De((function(e){return e.notes.allNotes})),p=De((function(e){return e.notes.allAwareness})),m=De((function(e){return e.notes.runOutOfNotes})),_=Object(n.useRef)(),f=Object(n.useRef)(),v=Object(s.d)(),E=Object(i.h)().pathname.substring(1),h="note"===E?u:p;return Object(n.useEffect)((function(){v(z()),v(Yt()),v(X(E))}),[v,E]),Object(n.useEffect)((function(){o(_.current.clientHeight>f.current.clientHeight)}),[u,p,_,f]),r.a.createElement("div",{ref:_,className:"".concat(ma.a.messages_area," \n      ").concat(l?"":ma.a.messages_area_active_editor," \n      ").concat(c?ma.a.column:ma.a.column_reverse,"\n      "),id:"scrollableDiv",style:{overflow:"auto",display:"flex"}},r.a.createElement("div",{ref:f},r.a.createElement(da.a,{dataLength:h.length,next:function(){return v(X(E))},style:{display:"flex",flexDirection:"column-reverse"},inverse:!0,hasMore:m,loader:r.a.createElement("h4",null,r.a.createElement(Ke,null)),scrollableTarget:"scrollableDiv"},h&&h.map((function(e,t){var a=h[t+1];return r.a.createElement(jt,{key:e.key,note:e,previous:a,isAll:!0})})))))},fa=a(57),va=a.n(fa),Ea=function(){var e=De((function(e){return e.editor.activeFillEditor})),t=Object(s.d)();Object(n.useEffect)((function(){t(z()),t(Yt())}),[t]);var a=Object(n.useCallback)((function(e){t(Ae(!0)),t(Ne(!1)),t(Oe(""))}),[t]);return r.a.createElement("div",{className:va.a.pageDay},r.a.createElement("div",{className:va.a.pageDayContent},r.a.createElement(ft,null),r.a.createElement(_a,null),r.a.createElement("div",{className:va.a.editor},!e&&r.a.createElement(dt.a,{className:va.a.button,color:"default",onClick:a},"\u0421\u043a\u0440\u044b\u0442\u044c"),r.a.createElement(ht,null))),r.a.createElement(ia,null))},ha=a(119),ba=a.n(ha),ya=function(e){var t=Object(s.d)();Object(n.useEffect)((function(){t(function(){var e=Object(k.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:F().onAuthStateChanged((function(e){if(e){t(Je(e.uid,e.email,e.displayName,e.photoURL,!1,!0));var a={displayName:e.displayName,photoUrl:e.photoURL,uid:e.uid};W.collection("users").doc(e.uid).set(a,{merge:!0}),H(e)}else t(Je("",null,null,null,!1,!1))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[t]);var a=Object(s.e)((function(e){return e.auth.loading})),c=Object(s.e)((function(e){return e.auth.isAuth}));return!0===a?r.a.createElement(Ke,null):r.a.createElement(u.a,{className:ba.a.container,maxWidth:"xl"},r.a.createElement(i.d,null,r.a.createElement(rt,Object.assign({exact:!0,path:"/",authenticated:c,component:Se},e)),r.a.createElement(rt,{path:"/note",authenticated:c,component:Ea}),r.a.createElement(rt,{path:"/awareness",authenticated:c,component:Ea}),r.a.createElement(rt,{path:"/day/:dayId?",authenticated:c,component:ua}),r.a.createElement(ct,{path:"/signup",authenticated:c,component:Ve}),r.a.createElement(ct,{path:"/login",authenticated:c,component:Ue})))},ga=a(43),Oa=a(120),Na=Object(ga.c)({active:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AW/ACTIVITY/FETCH_ACTIVITY_REQUEST":case"AW/ACTIVITY/FETCH_ACTIVITY_TODAY_SUCCESS":case"AW/ACTIVITY/FETCH_ACTIVITY_SUCCESS":case"AW/ACTIVITY/FETCH_ACTIVITY_FAILURE":return Object(D.a)(Object(D.a)({},e),t.payload);default:return e}},thunks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AW/NOTE/FETCH_THANKS_DAY":case"AW/NOTE/FETCH_THANKS_FAILURE":case"AW/NOTE/REQUEST_THANKS":return Object(D.a)(Object(D.a)({},e),t.payload);default:return e}},editor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AW/EDITOR/ACTIVE_EDITOR":case"AW/EDITOR/CHANGE_TYPE":case"AW/EDITOR/CHANGE_CONTENT":case"AW/EDITOR/CHANGE_CONTENT_OLD":case"AW/EDITOR/ACTIVE_MODAL":case"AW/EDITOR/SET_KEY_MESSAGE":return Object(D.a)(Object(D.a)({},e),t.payload);default:return e}},notes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AW/NOTE/FETCH_NOTES_REQUEST":case"AW/NOTE/FETCH_NOTES_FAILURE":case"AW/NOTE/FETCH_NOTES_DAY":case"AW/NOTE/FETCH_NOTES_ALL":case"AW/NOTE/FETCH_AWARENESS_ALL":case"AW/NOTE/SET_LAST_NOTES":case"AW/NOTE/SET_LAST_AWARENESS":case"AW/NOTE/FINISH_SCROLL_NOTES":case"AW/NOTE/FETCH_NOTES_MONTHS":case"AW/NOTE/SET_DATE_ITEM":case"AW/NOTE/SET_TYPE_PAGE":case"AW/NOTE/LOGOUT_AND_CLEAN":return Object(D.a)(Object(D.a)({},e),t.payload);default:return e}},calendar:ce,auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AW/AUTH/SET_USER_DATA":return Object(D.a)(Object(D.a)({},e),t.payload);default:return e}}}),Aa=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ga.d,Ta=Object(ga.e)(Na,Aa(Object(ga.a)(Oa.a))),Ca=r.a.createElement(s.a,{store:Ta},r.a.createElement(l.a,null,r.a.createElement(ya,null)));o.a.render(Ca,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},20:function(e,t,a){e.exports={wrapper:"Sign_wrapper__3EkaY",form_box:"Sign_form_box__3olgG",header_block:"Sign_header_block__2KOSb",title:"Sign_title__3Whmr",submit:"Sign_submit__2HMvl",signGoogle:"Sign_signGoogle__3d4RE",signup:"Sign_signup__3lw6m"}},22:function(e,t,a){e.exports={messages_area:"messages_messages_area__uHjwh",messages_area_active_editor:"messages_messages_area_active_editor__3AaQe",message_item:"messages_message_item__1wqm4",class_note:"messages_class_note__1Hz1b",class_awareness:"messages_class_awareness__YgHXB",message_item_box:"messages_message_item_box__1Vmhn",message_time:"messages_message_time__1ejCz",message_text:"messages_message_text__hKe9G",message_remote:"messages_message_remote__t2d8T",message_editor:"messages_message_editor__1YjSC",message_remove:"messages_message_remove__1xnOI",date_item_container:"messages_date_item_container__1u8aW",date_item:"messages_date_item__1yJAy"}},32:function(e,t,a){e.exports={headerContainer:"header_headerContainer__3zc4b",headerLogo:"header_headerLogo__c7jFp",logo:"header_logo__dqkhQ",headerDate:"header_headerDate__1OlCq",headerNavigationBlock:"header_headerNavigationBlock__wK-ca",headerNavigation:"header_headerNavigation__1T0Ak",headerNavigationItem:"header_headerNavigationItem__tCEnP",headerNavigationItemCenter:"header_headerNavigationItemCenter__3ItL3",headerLogout:"header_headerLogout__1vxrr"}},40:function(e,t,a){e.exports={blockInput:"inputDay_blockInput__k3TF2",inputTitle:"inputDay_inputTitle__au8MJ",input:"inputDay_input__1IRYk",showText:"inputDay_showText__2AOeP",save:"inputDay_save__1vKH6"}},49:function(e,t,a){e.exports={actionBox:"activityEvent_actionBox__sdLCh",actionItem:"activityEvent_actionItem__97kJi",actionText:"activityEvent_actionText__2A6Nc"}},56:function(e,t,a){e.exports={messages_area:"allMessages_messages_area__1fBHj",messages_area_active_editor:"allMessages_messages_area_active_editor__3HGAL",column_reverse:"allMessages_column_reverse__1Qml-",column:"allMessages_column__12RF9",message_item:"allMessages_message_item__3DGGk",class_note:"allMessages_class_note__2eYss",class_awareness:"allMessages_class_awareness__1rKvN",message_item_box:"allMessages_message_item_box__yLO_0",message_time:"allMessages_message_time__E0rh1",message_text:"allMessages_message_text__1WLYW",message_remote:"allMessages_message_remote__3P_Ws",message_editor:"allMessages_message_editor__1DxpD",message_remove:"allMessages_message_remove__1QMlV"}},57:function(e,t,a){e.exports={pageDay:"notes_pageDay__KZyLp",pageDayContent:"notes_pageDayContent__ZUsDK",editor:"notes_editor__QlVvK",button:"notes_button__1VbZa"}},68:function(e,t,a){e.exports=a.p+"static/media/google.1acf3b9c.svg"},72:function(e,t,a){e.exports={editor_panel:"editorPanel_editor_panel__2We5s",editor_panel_group:"editorPanel_editor_panel_group__S62-q"}},80:function(e,t,a){e.exports={pageDay:"day_pageDay__2Jgis",pageDayContent:"day_pageDayContent__21BtE",pageDaySideBar:"day_pageDaySideBar__25eC5",Calendar_smile__18_Of:"day_Calendar_smile__18_Of__ORw6-"}},81:function(e,t,a){e.exports={modal:"modal_modal__11IIC",paper:"modal_paper__rcC3A"}},9:function(e,t,a){e.exports={icon:"Calendar_icon__1VCOU",logo:"Calendar_logo__1vf5l",row:"Calendar_row__12k7n","row-middle":"Calendar_row-middle__cynuY",col:"Calendar_col__dZaRJ",colStart:"Calendar_colStart__1gIv7",colCenter:"Calendar_colCenter__VdiNf",colEnd:"Calendar_colEnd__c2hVI",calendar:"Calendar_calendar__20ymr",header:"Calendar_header__n_t08",days:"Calendar_days__3o9xZ",cell:"Calendar_cell__27Zoq",selected:"Calendar_selected__OM7G1",body:"Calendar_body__35nCY",number:"Calendar_number__10VpR",disabled:"Calendar_disabled__3ygA8",bg:"Calendar_bg__1gMSQ",activities:"Calendar_activities__1_imC",allActivity:"Calendar_allActivity__1_Ucw",activity:"Calendar_activity__sqVRf",notesToday:"Calendar_notesToday__2hpTH",awarenesToday:"Calendar_awarenesToday__38vjY"}}},[[129,1,2]]]);
//# sourceMappingURL=main.897e2f5e.chunk.js.map